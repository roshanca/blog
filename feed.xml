<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh-Hans"><generator uri="https://jekyllrb.com/" version="4.0.1">Jekyll</generator><link href="https://roshanca.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://roshanca.com/" rel="alternate" type="text/html" hreflang="zh-Hans" /><updated>2020-11-05T13:16:58+00:00</updated><id>https://roshanca.com/feed.xml</id><title type="html">è‚‰å±±Â·å¯Ÿ</title><subtitle>just Roshan's blog</subtitle><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><entry><title type="html">é¡µé¢æ€§èƒ½(W3C)æŒ‡æ ‡è¯´æ˜åŠå®šä¹‰</title><link href="https://roshanca.com/2020/performance-indicators/" rel="alternate" type="text/html" title="é¡µé¢æ€§èƒ½(W3C)æŒ‡æ ‡è¯´æ˜åŠå®šä¹‰" /><published>2020-11-05T00:00:00+00:00</published><updated>2020-11-05T00:00:00+00:00</updated><id>https://roshanca.com/2020/performance-indicators</id><content type="html" xml:base="https://roshanca.com/2020/performance-indicators/">&lt;h2 id=&quot;æ€§èƒ½æŒ‡æ ‡è¯´æ˜åŠå®šä¹‰&quot;&gt;æ€§èƒ½æŒ‡æ ‡è¯´æ˜åŠå®šä¹‰&lt;/h2&gt;

&lt;figure&gt;
&lt;a href=&quot;https://s10.mogucdn.com/mlcdn/c45406/201105_8cig0b7bk130j5010lkf890g0dfh9_1473x879.png&quot;&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/201105_8cig0b7bk130j5010lkf890g0dfh9_1473x879.png&quot; alt=&quot;&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;å›¾ 1 (æ¥æºï¼šwww.w3.org)&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;æŒ‡æ ‡è¯´æ˜&quot;&gt;æŒ‡æ ‡è¯´æ˜&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;æŒ‡æ ‡åç§°&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;æè¿°&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;è®¡ç®—æ–¹å¼&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;é¦–å­—èŠ‚&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;æ”¶åˆ°é¦–å­—èŠ‚çš„æ—¶é—´&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;responseStart - fetchStart&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;DOM Ready&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;HTMLåŠ è½½å®Œæˆæ—¶é—´&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;domContentLoadedEventEnd - fetchStart&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;é¡µé¢å®Œå…¨åŠ è½½&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;é¡µé¢å®Œå…¨åŠ è½½æ—¶é—´&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;loadEventStart - fetchStart&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;DNSæŸ¥è¯¢&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;DNSè§£æè€—æ—¶&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;domainLookupEnd - domainLookupStart&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;TCPè¿æ¥&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;TCPé“¾æ¥è€—æ—¶&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;connectEnd - connectStart&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;è¯·æ±‚å“åº”&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Time to First Byte(TTFB)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;responseStart - requestStart&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;å†…å®¹ä¼ è¾“&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;æ•°æ®ä¼ è¾“è€—æ—¶&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;responseEnd - responseStart&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;DOMè§£æ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;DOM è§£æè€—æ—¶&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;domInteractive - responseEnd&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;èµ„æºåŠ è½½&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;èµ„æºåŠ è½½è€—æ—¶(é¡µé¢ä¸­åŒæ­¥åŠ è½½çš„èµ„æº)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;loadEventStart - domContentLoadedEventEnd&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/navigation-timing/?spm=a2c4g.11186623.2.15.59982e88Be3sxh&quot;&gt;https://www.w3.org/TR/navigation-timing/?spm=a2c4g.11186623.2.15.59982e88Be3sxh&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><category term="performance" /><category term="javascript" /><summary type="html">æ€§èƒ½æŒ‡æ ‡è¯´æ˜åŠå®šä¹‰</summary></entry><entry><title type="html">ç”¨ Canvas å®ç°ä¸€ä¸ªæç®€è´ªé£Ÿè›‡</title><link href="https://roshanca.com/2020/Implement-a-minimalist-greedy-snake-with-canvas/" rel="alternate" type="text/html" title="ç”¨ Canvas å®ç°ä¸€ä¸ªæç®€è´ªé£Ÿè›‡" /><published>2020-05-20T15:43:09+00:00</published><updated>2020-05-20T15:43:09+00:00</updated><id>https://roshanca.com/2020/Implement-a-minimalist-greedy-snake-with-canvas</id><content type="html" xml:base="https://roshanca.com/2020/Implement-a-minimalist-greedy-snake-with-canvas/">&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;ç¬”è€…æ›¾ç»åœ¨å­¦ä¹  TS æ—¶å†™è¿‡ä¸€ä¸ª&lt;a href=&quot;/2015/write-a-simple-snake-game-with-typescript/&quot;&gt;è´ªé£Ÿè›‡å°æ¸¸æˆ&lt;/a&gt;ï¼Œä½†é‚£æ˜¯åŸºäº DOM çš„ï¼Œä»£ç è¾ƒä¸ºå•°å”†ï¼ˆæ¯•ç«Ÿæ˜¯ç”¨æ¥å­¦ä¹ åŸºäºé™æ€ç±»å‹çš„ TSï¼‰ã€‚è¿™æ¬¡æ— æ„é—´çœ‹è§ç½‘ä¸ŠæŸä½é«˜äººå†™çš„è´ªé£Ÿè›‡å°æ¸¸æˆï¼Œå¯¥å¯¥å‡ è¡Œä»£ç æå®šï¼Œå¹ä¸ºè§‚æ­¢ã€‚åˆçœ‹ä»£ç ï¼Œæ˜¯å¾ˆå¤§ç¨‹åº¦åœ°åˆ©ç”¨äº† JS å¼±è¯­è¨€çš„çµæ´»åº¦ï¼Œä»¥å°‘é‡ä»£ç åšäº†å¤§é‡çš„å·¥ä½œï¼Œæ˜¯çœŸæ­£ä½“ç°äº† JS åœ¨è„šæœ¬é¢†åŸŸæ— äººèƒ½æ•Œçš„å¼ºå¤§æœ¬é¢†ã€‚&lt;/p&gt;

&lt;p&gt;å…ˆæ¥çœ‹çœ‹ ğŸ‘‰ &lt;a href=&quot;https://lab.roshanca.com/greedy-snake/&quot;&gt;Demo&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹æ¥æ™’ä¸‹ä»£ç ï¼Œç„¶ååšä¸€äº›æ€è·¯è§£è¯»ï¼Œä»¥ä¾¿äºç†è§£å…¶åŸç†ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆç”¨ HTML å’Œ CSS å¸ƒç½®å¥½ç”»å¸ƒï¼ˆCanvasï¼‰:&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;lang=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;viewport&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;width=device-width, initial-scale=1.0&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Snake Game&lt;span class=&quot;nt&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;./index.css&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;canvas&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;400&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;height=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;400&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Sorry, your browser does not support canvas&lt;span class=&quot;nt&quot;&gt;&amp;lt;/canvas&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;./index.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100vh&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;canvas&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;black&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€šè¿‡ä»¥ä¸Šä»£ç æˆ‘ä»¬åœ¨é¡µé¢ä¸­å¤®å¼€è¾Ÿäº†ä¸€å— 400 Ã— 400 åƒç´ çš„é»‘åº•ç”»å¸ƒã€‚ä»¥ 20 Ã— 20 åšä¸ºä¸€ä¸ªåŸºæœ¬å•ä½ï¼Œå°†ç”»å¸ƒåˆ’åˆ†ä¸º 20 è¡Œ 20 åˆ—çš„æ–¹é˜µã€‚å¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/200520_6cbd63jcb3a6heed1a4chig2h77eg_1332x1324.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¤§ä½“çš„æ€è·¯å°±æ˜¯ç”¨ç»¿è‰²æ¥å¡«å……è¿™äº›å°æ ¼å­æ¥è¡¨ç¤ºè›‡èº«ï¼Œç”¨é»„è‰²çš„ä¸€æ ¼æ¥ä»£è¡¨éšæœºå‡ºç°çš„é£Ÿç‰©ã€‚è›‡èº«è¦åŠ¨ï¼Œè¦æœ‰ä¸ªå®šæ—¶å™¨ï¼ŒæŒ‰ä¸€å®šçš„é¢‘ç‡å»æ›´æ–°ç”»å¸ƒã€‚&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cm&quot;&gt;/** @type {HTMLCanvasElement} */&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;canvas&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;canvas&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;box&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;canvas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getContext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;2d&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;41&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;43&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;draw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;seat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fillStyle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;color&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;seat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~~&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;seat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onkeydown&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;evt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;evt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;37&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;unshift&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;399&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;GAME OVER!&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;nx&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;lime&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~~&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;yellow&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;black&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;nx&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;arguments&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;callee&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;150&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€šå¸¸è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ‹¿äºŒç»´æ•°ç»„æ¥ä»£è¡¨ä¸€ä¸ªç‚¹ï¼Œæˆ–ä¸€ä¸ªæ ¼å­ï¼Œæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;[0, 0]&lt;/code&gt; å°±æ˜¯å·¦ä¸Šè§’ç¬¬ä¸€ä¸ªæ ¼å­ã€‚ä½†è¿™æ¬¡ä¸ä¸€æ ·ï¼Œä½œè€…æ˜¯æŒ‰ä»å·¦åˆ°å³ï¼Œè‡³ä¸Šè€Œä¸‹ï¼Œä¾æ¬¡æ¥æ ‡è®°è¿™äº›æ ¼å­çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ ‡è®°å‡ºäº† 0~399 ä¸ªæ ¼å­ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç”»è›‡ä¸æ·»è¶³&quot;&gt;ç”»è›‡ä¸æ·»è¶³&lt;/h2&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;41&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;43&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è›‡èº«ç”¨ä¸€ç»´æ•°ç»„æ¥è¡¨ç¤ºå³å¯ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;food&lt;/code&gt; ä»£è¡¨é£Ÿç‰©å‡ºç°çš„ä½ç½®ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;direction&lt;/code&gt; è¡¨ç¤ºè›‡å¤´ä¸‹ä¸€æ¬¡è¿åŠ¨çš„è½¬å‘ä½ç§»é‡ã€‚æœ€æœ‰æ„æ€çš„æ˜¯è¿™ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;n&lt;/code&gt;ï¼Œå®ƒæ˜¯ç”¨æ¥è®°å½•è›‡èº«å•ä½æ—¶é—´å†…çš„ç§»åŠ¨ä½ç§»ï¼Œä¹Ÿå°±æ˜¯è›‡è¿åŠ¨åŠ¨ç”»å½“å‰å¸§çš„ç»˜åˆ¶ç›®æ ‡æ ¼å­ã€‚çœ‹åˆ°è¿™ä¸€è¡Œï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;unshift&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œæ˜¯ä¸¤æ­¥æ“ä½œï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å…ˆå°†è›‡å¤´æ ¹æ®æ–¹å‘è½¬å‘è·å–åˆ°ä¸‹ä¸€æ­¥çš„ä½ç§»é‡ï¼Œèµ‹å€¼ç»™ &lt;code class=&quot;highlighter-rouge&quot;&gt;n&lt;/code&gt;;&lt;/li&gt;
  &lt;li&gt;è›‡èº«æŠŠä¸‹ä¸€æ­¥çš„ä½ç§» &lt;code class=&quot;highlighter-rouge&quot;&gt;n&lt;/code&gt; åšä¸ºæ–°çš„è›‡å¤´ï¼ŒåŠ å…¥åˆ°ä¸€ç»´æ•°ç»„é‡Œã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è¿™é‡Œè¿˜æ¯”è¾ƒå¥½ç†è§£ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥çœ‹åˆ°å¦‚ä½•åœ¨ canvas ä¸Šç”»æ ¼å­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;draw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;seat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fillStyle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;color&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;seat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~~&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;seat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;lime&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ ¹æ® 20 Ã— 20 çš„åˆ’åˆ†æ ‡è®°ï¼Œæˆ‘ä»¬é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;seat / 20&lt;/code&gt; å–æ•´æ¥å¾—åˆ°è¡Œï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;seat % 20&lt;/code&gt; æ¥è·å¾—åˆ—ã€‚è¡Œå’Œåˆ—åº”è¯¥éƒ½æ˜¯ 0~19 ä¹‹é—´çš„æ•´æ•°ã€‚å¦‚æœç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;row&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;col&lt;/code&gt; åˆ†åˆ«è¡¨ç¤ºå…¶è¡Œå’Œåˆ—çš„ç»“æœï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯è¿™èˆ¬ç»˜åˆ¶ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;box.fillRect(col * 20, row * 20, 20, 20)&lt;/code&gt;â€”â€”è¿™æ˜¯ç”»æ»¡æ ¼çš„æƒ…å†µã€‚ç•™ä¸ªä¸€åƒç´ çš„å†…è¾¹è·ï¼Œå°±æ˜¯åŸç¤ºä¾‹ä¸­çš„å†™æ³•ã€‚&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;black&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åç»­ &lt;code class=&quot;highlighter-rouge&quot;&gt;n == food&lt;/code&gt; æ—¶è¡¨ç¤ºè›‡åƒåˆ°é£Ÿç‰©ï¼Œé‚£å°±è¿›å…¥åˆ°å†éšæœºç”Ÿæˆé£Ÿç‰©çš„é€»è¾‘ã€‚ç»“åˆ else çš„é€»è¾‘ï¼Œé€šç¯‡çœ‹ä¸‹æ¥ç°åœ¨æˆ‘ä»¬å¯ä»¥æŠŠåœ¨ä¸€å¸§å†…çš„è›‡èº«æ“ä½œæ”¾åœ¨ä¸€èµ·çœ‹äº†ï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// next step&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// append head&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;unshift&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// cut off tail&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;direction&quot;&gt;direction&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;direction&lt;/code&gt; çš„è®¡ç®—ä¹Ÿé¢‡ä¸ºå·§å¦™ï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onkeydown&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;evt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;evt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;37&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ•°ç»„ &lt;code class=&quot;highlighter-rouge&quot;&gt;[-1, -20, 1, 20]&lt;/code&gt; åšä¸ºå››ä¸ªæ–¹å‘çš„ä½ç§»é‡&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;ï¼Œè€Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;(evt || event).keyCode - 37&lt;/code&gt; åšä¸ºå…¶ç´¢å¼•å€¼ï¼ŒæŒ‰ä¸åŒæ–¹å‘é”®å¯ä»¥å–åˆ°å…¶å¯¹åº”çš„åç§»é‡ã€‚&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;evt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;37&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œçš„å·§å¦™ä¹‹å¤„åœ¨äº&lt;strong&gt;å¦‚æœæŒ‰ä¸‹çš„æŒ‰é”®ä¸æ˜¯æ–¹å‘é”®ï¼Œåœ¨æ•°ç»„ä¸­å°†å¾—ä¸åˆ°å¯¹åº”çš„å€¼&lt;/strong&gt;ã€‚æ‰€ä»¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;...|| direction&lt;/code&gt; è¿™æ­¥æ“ä½œï¼Œå¯ä»¥ä½¿å¾— &lt;code class=&quot;highlighter-rouge&quot;&gt;n&lt;/code&gt; å–åˆ°åŸæ¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;direction&lt;/code&gt; çš„å€¼ï¼Œè€Œä¸æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;undefined&lt;/code&gt;ã€‚æ‰€ä»¥æ­¤æ—¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;n&lt;/code&gt; çš„å–å€¼ï¼Œè¦ä¹ˆæ˜¯æ•°ç»„ &lt;code class=&quot;highlighter-rouge&quot;&gt;[-1, -20, 1, 20]&lt;/code&gt; ä¸­çš„æŸä¸ªå€¼ï¼Œè¦ä¹ˆå°±æ˜¯å‰ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;direction&lt;/code&gt; çš„å€¼ã€‚&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬å·²ç»èƒ½å¾ˆå®Œç¾åœ°æ‹¿åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;n&lt;/code&gt; çš„å€¼äº†ï¼Œé‚£ä¸Šé¢çš„è¿™ä¸ªä¸‰å…ƒåˆ¤æ–­åˆæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿç­”æ¡ˆæ˜¯é˜²åè½¬ã€‚å°±æ˜¯å½“æŒ‰é”®æ–¹å‘ä¸è›‡è¿åŠ¨æ–¹å‘ç›¸åæ—¶ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªåˆ¤æ–­çš„è¯ï¼Œå°±ä¼šé”™ä¹±ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;snake[1] - snake[0]&lt;/code&gt; å¯è§†ä¸ºå½“å‰çš„åæ–¹å‘ï¼Œå³ &lt;code class=&quot;highlighter-rouge&quot;&gt;-direction&lt;/code&gt;ï¼Œå¦‚æœæ­¤æ—¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;n&lt;/code&gt; çœŸçš„å–å€¼ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;-direction&lt;/code&gt;ï¼Œåˆ™éœ€å°†å…¶çŸ«æ­£ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;direction&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ¡ä»¶åˆ¤æ–­&quot;&gt;æ¡ä»¶åˆ¤æ–­&lt;/h2&gt;

&lt;p&gt;å¥½äº†ï¼Œå…¶å®ƒå°±è¾ƒä¸ºç®€å•äº†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// GAME OVER çš„åˆ¤æ–­æ¡ä»¶&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// è›‡å¤´ç¢°åˆ°è‡ªèº«&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// ç¢°åˆ°ä¸Šè¾¹ç•Œ&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// ç¢°åˆ°ä¸‹è¾¹ç•Œ&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;399&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// ç¢°åˆ°å³è¾¹ç•Œ&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// ç¢°åˆ°å·¦è¾¹ç•Œ&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;GAME OVER!&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~~&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// è¿™å¥å¯ç¿»è¯‘ä¸º&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~~&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨éšæœºç”Ÿæˆ food ä½ç½®çš„åŒæ—¶ï¼Œä¹Ÿé¿å…äº†ç”Ÿæˆä½ä¸è›‡èº«é‡åˆçš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;h2 id=&quot;iife&quot;&gt;IIFE&lt;/h2&gt;

&lt;p&gt;çœ‹åˆ°æœ€åä¸€éƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ï¼Œè¿™é‡Œæœ‰&lt;a href=&quot;/2012/traps-in-javascript-part-I#å‘äº”å‡½æ•°çš„è‡ªæ‰§è¡Œ&quot;&gt;ä»‹ç»&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;é¡ºä¾¿æä¸€ä¸‹å…¶ä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;arguments.callee&lt;/code&gt;ï¼ŒæŒ‡çš„æ˜¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¼•ç”¨å‚æ•°æ‰€å±çš„å½“å‰æ‰§è¡Œå‡½æ•° â€”â€” &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments&quot;&gt;MDN web docs&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ‰€ä»¥è¿™é‡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;setTimeout&lt;/code&gt; å°±èƒ½è®©è¿™æ®µå‡½æ•°ä¸åœåœ°æ‰§è¡Œä¸‹å»ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ¢ä½œ &lt;code class=&quot;highlighter-rouge&quot;&gt;setInterval&lt;/code&gt; æ¥å®ç°ã€‚&lt;/p&gt;
&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;åˆ†åˆ«ä¸ºï¼šå·¦ã€ä¸Šã€å³ã€ä¸‹ã€‚Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><category term="javascript" /><category term="canvas" /><category term="game" /><summary type="html">å‰è¨€</summary></entry><entry><title type="html">å¯¹æ•°å­—çš„é‡‘èè´§å¸æ ¼å¼åŒ–</title><link href="https://roshanca.com/2018/format-financial-currency-number/" rel="alternate" type="text/html" title="å¯¹æ•°å­—çš„é‡‘èè´§å¸æ ¼å¼åŒ–" /><published>2018-05-04T00:00:00+00:00</published><updated>2018-05-04T00:00:00+00:00</updated><id>https://roshanca.com/2018/format-financial-currency-number</id><content type="html" xml:base="https://roshanca.com/2018/format-financial-currency-number/">&lt;p&gt;æµ¸æ·«é‡‘èè¡Œä¸šå¤šå¹´ï¼Œè¿™æ ·çš„éœ€æ±‚åšäº†å¤ªå¤šã€‚è§£é‡Šä¸‹é‡‘èè´§å¸æ ¼å¼åŒ–ï¼Œä¸»è¦åŒ…å«ä¸¤ç‚¹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ä¿ç•™å°æ•°ä¸¤ä½ï¼ˆå•ä½å…ƒï¼Œæ„æ€å°±æ˜¯è¦ç²¾ç¡®åˆ°åˆ†ï¼‰&lt;/li&gt;
  &lt;li&gt;åƒä½åˆ†éš”ç¬¦ï¼ˆæ˜¾å¾—ä¸¥è‚ƒä¸”ä¸“ä¸šï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å¦å¤–è¿˜å¯èƒ½é™„å¸¦ä¸€äº›å°è¦æ±‚ï¼šæ¯”å¦‚æ˜¾ç¤ºè´§å¸ç¬¦å·â€œï¿¥â€ã€â€œ$â€ ç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;æ¥ç‚¹å›¾ç¤ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/180504_5363k12cijga0aaggl5hk19690gl5_137x33.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/180504_2lekfjgfbi1i210kl57l31klc7lei_405x265.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/180504_28k0l1d4e9be6bdh75hah6ek2eafb_190x64.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;çœ‹äº†ç½‘ä¸Šçš„å„ç§ js è§£å†³æ–¹æ¡ˆç®€ç›´å“å°¿ï¼Œéƒ½æ˜¯å†™äº†ä¸ªæ¯”è¾ƒå¤æ‚çš„ function æ¥è§£å†³ã€‚å¦‚è‹¥æ— éœ€å…¼å®¹ä¸€äº›è¿œå¤æµè§ˆå™¨ï¼Œjs è‡ªå¸¦çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Array.prototype.toLocaleString()&lt;/code&gt; å°±å¯ä»¥è§£å†³é—®é¢˜ã€‚&lt;/p&gt;

&lt;h2 id=&quot;tofixed&quot;&gt;toFixed&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬çœ‹çœ‹åœºæ™¯ä¸€ï¼š&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚åç«¯è¿”å›é‡‘é¢ä¸ºåˆ†ï¼Œæˆ‘ä»¬èµ‹ç»™ä¸€ä¸ªå˜é‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;amount&lt;/code&gt;ï¼Œé‚£ä¿ç•™ä¸¤ä½å°æ•°ï¼Œå¤§éƒ¨åˆ†äººçš„è§£å†³æ–¹æ¡ˆæ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;(amount / 100).toFixed(2)&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¯æ˜¯è¦æ³¨æ„ &lt;code class=&quot;highlighter-rouge&quot;&gt;toFixed&lt;/code&gt; ä½¿ç”¨çš„æ˜¯é“¶è¡Œå®¶èˆå…¥è§„åˆ™ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;æ‰€è°“é“¶è¡Œå®¶èˆå…¥æ³•ï¼Œå…¶å®è´¨æ˜¯ä¸€ç§å››èˆå…­å…¥äº”å–å¶ï¼ˆåˆç§°å››èˆå…­å…¥äº”ç•™åŒï¼‰æ³•ã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼šå››èˆå…­å…¥äº”è€ƒè™‘ï¼Œäº”åéé›¶å°±è¿›ä¸€ï¼Œäº”åä¸ºé›¶çœ‹å¥‡å¶ï¼Œäº”å‰ä¸ºå¶åº”èˆå»ï¼Œäº”å‰ä¸ºå¥‡è¦è¿›ä¸€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œç”¨ç”¨æ˜¯å¤Ÿäº†ï¼Œç‰¹åˆ«æ˜¯æ•°æ®çº¦å®šçš„æœ€å°å•ä½å°±æ˜¯â€œåˆ†â€çš„æƒ…å†µä¸‹ã€‚å¦‚éœ€æ›´åŠ ç²¾ç¡®ï¼Œå°±è¦è€ƒè™‘åˆ° js æµ®ç‚¹æ•°è®¡ç®—ç²¾åº¦ç¼ºå¤±çš„é—®é¢˜ã€‚å…·ä½“çš„å¯ä»¥å‚è€ƒï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.chengfeilong.com/toFixed&quot;&gt;toFixed è®¡ç®—é”™è¯¯(ä¾èµ–é“¶è¡Œå®¶èˆå…¥æ³•çš„ç¼ºé™·)è§£å†³æ–¹æ³•&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;tolocalestring&quot;&gt;toLocaleString&lt;/h2&gt;

&lt;p&gt;æ›´å¤æ‚ä¸€ç‚¹çš„åœºæ™¯æ˜¯æ—¢è¦ä¿ç•™ä¸¤ä½å°æ•°ï¼Œåˆè¦åŠ åƒä½åˆ†éš”ç¬¦ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;toFixed&lt;/code&gt; å°±ä¸å ªç”¨äº†ã€‚é‚£å°±è½®åˆ°ä¸Šé¢æåˆ°çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;toLocaleString&lt;/code&gt; ç™»åœºäº†ï¼Œè¯¦ç»†çš„ç”¨æ³•è§ï¼š&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString&quot;&gt;MDN web docs&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;noscript&gt;&lt;pre&gt;let num = 123456.1234

num.toLocaleString(&amp;#39;zh-Hans-CN&amp;#39;, { style: &amp;#39;currency&amp;#39;, currency: &amp;#39;CNY&amp;#39; })
// ï¿¥123,456.12

num.toLocaleString(&amp;#39;en-US&amp;#39;, { style: &amp;#39;currency&amp;#39;, currency: &amp;#39;USD&amp;#39; })
// $123,456.12

num.toLocaleString(&amp;#39;zh&amp;#39;, { style: &amp;#39;decimal&amp;#39;, minimumFractionDigits: 2, maximumFractionDigits: 2 })
// 123,456.12&lt;/pre&gt;&lt;/noscript&gt;
&lt;script src=&quot;https://gist.github.com/roshanca/97c180d8b5fb5867bb5c8f5bf4808d3c.js?file=currency.js&quot;&gt; &lt;/script&gt;

&lt;h2 id=&quot;å…¼å®¹æ€§&quot;&gt;å…¼å®¹æ€§&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;toFixed&lt;/code&gt; åŸºæœ¬ä¸Šæ²¡ä»€ä¹ˆå…¼å®¹æ€§çš„é—®é¢˜ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;toLocaleString&lt;/code&gt; çš„å…¼å®¹æƒ…å†µå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;figure&gt;
&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/200115_0allh45hchf7gb13d4g78h69i1ib8_2082x1162.png&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;&lt;em&gt;toLocaleString&lt;/em&gt; çš„å…¼å®¹æ€§&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œç§»åŠ¨ç«¯ä¸»æµè®¾å¤‡å·²åŸºæœ¬è¦†ç›–ã€‚&lt;/p&gt;</content><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><category term="javascript" /><summary type="html">æµ¸æ·«é‡‘èè¡Œä¸šå¤šå¹´ï¼Œè¿™æ ·çš„éœ€æ±‚åšäº†å¤ªå¤šã€‚è§£é‡Šä¸‹é‡‘èè´§å¸æ ¼å¼åŒ–ï¼Œä¸»è¦åŒ…å«ä¸¤ç‚¹ï¼š</summary></entry><entry><title type="html">2017 å¹´å·¥ä½œæ€»ç»“</title><link href="https://roshanca.com/2018/2017-work-summary/" rel="alternate" type="text/html" title="2017 å¹´å·¥ä½œæ€»ç»“" /><published>2018-01-15T00:00:00+00:00</published><updated>2018-01-15T00:00:00+00:00</updated><id>https://roshanca.com/2018/2017-work-summary</id><content type="html" xml:base="https://roshanca.com/2018/2017-work-summary/">&lt;p&gt;åŠ å…¥åˆ°è˜‘è‡è¡—è¿˜æœªæ»¡ä¸€å¹´ï¼Œè‡ªæ„Ÿå†äº‹ä¸å¤šï¼Œæ— å½°å¯è¡¨ï¼Œæ— ç»©å¯è¨€ã€‚å›æœ›è¿™ä¸€å¹´ï¼Œå¤šæ˜¯è¡Œäº‹å’Œå¿ƒæ€ä¸Šçš„è½¬å˜ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å†äº‹&quot;&gt;å†äº‹&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;è‡ª 17 å¹´å››æœˆä»½å…¥èŒä»¥æ¥ï¼Œè§è¯äº†é›†å›¢å°ç¨‹åºä»æ— åˆ°æœ‰å†åˆ°ç¹è£çš„è¿‡ç¨‹ã€‚å¾ˆåº†å¹¸è‡ªå·±èƒ½å¤ŸåŠ å…¥åˆ°ç¾ä¸½è”åˆé’±åŒ…å°ç¨‹åºçš„å»ºè®¾å½“ä¸­æ¥ï¼Œé“¶è¡Œå¡ç»‘å¡ã€å®åè®¤è¯ã€æ”¯ä»˜çº¢åŒ…åº”è¯¥æ˜¯æˆ‘èŠ±çš„ç²¾åŠ›æ¯”è¾ƒå¤šçš„åœ°æ–¹ã€‚æ¥ä¸‹æ¥ï¼Œå°†é’±åŒ…å°ç¨‹åºæ‰“é€ æˆåŠŸèƒ½æ›´ä¸°å¯Œï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½çš„å°ç¨‹åºï¼Œä¹Ÿå°†æˆä¸ºæˆ‘çš„ç›®æ ‡ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å‡ æ¬¡å¤§ä¿ƒæ˜¯å…¨æ–°çš„ä½“éªŒï¼Œé‚£ç§ä¼—å¿—æˆåŸï¼Œä¸‡ä¼—ä¸€å¿ƒçš„æ°›å›´å°è±¡å°¤ä¸ºæ·±åˆ»ã€‚å¤§ä¿ƒæœŸé—´è¾ƒä¸ºç¹å¿™ï¼Œä½†æˆ‘ä¹Ÿæ˜¯èƒ½å¤Ÿè¾ƒå¥½çš„æ‰›ä½å‹åŠ›ã€‚ç¬¬ä¸€å¤©å€¼ç­çš„å°ä¼™ä¼´ä»¬æ’é›·ç¨å¾®è¾›è‹¦äº›ï¼Œä»Šåæœ‰æœºä¼šæˆ‘ä¹Ÿæ„¿å¤šä¸ºå›¢é˜Ÿåˆ†æ‹…ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸¾æ­¤ä¸¤ä¾‹è¶³çŸ£ï¼Œå…¶ä½™ä¸å†èµ˜è¿°ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¿ƒè·¯&quot;&gt;å¿ƒè·¯&lt;/h2&gt;

&lt;p&gt;æ¯”è¾ƒå¤§çš„æ”¹å˜æ˜¯å¿ƒæ€è½¬å˜ï¼Œä»ä¹‹å‰åˆ›ä¸šå…¬å¸è¯¸äº‹è¾ƒå¿«çš„èŠ‚å¥ï¼Œé™é¢‘è‡³æ­£å¸¸ã€‚äºæˆ‘ä¸ªäººè€Œè¨€ï¼Œæ‹¥æœ‰äº†æ›´å¤šçš„æ€è€ƒå’Œå­¦ä¹ çš„æ—¶é—´ã€‚ä»å‰è¿«äºå·¥æœŸå†™äº†å¤ªå¤šçš„åƒåœ¾ä»£ç ï¼Œè¿˜æ€»æ˜¯è‡ªæˆ‘å®‰æ…°åæœŸå†ä¼˜åŒ–ï¼Œæœªæ›¾æƒ³æ¬ ä¸‹çš„æŠ€æœ¯å€ºå°±å†ä¹Ÿæ— åŠ›å¿è¿˜ã€‚è€Œä»Šä»Šéæ˜”æ¯”ï¼Œä¸ä»…æœ‰æ—¶é—´ï¼ˆè€Œä¸”æœ‰å¿…è¦ï¼‰æ¥éšæ—¶é‡æ„ä¼˜åŒ–ä¸šåŠ¡ä»£ç ï¼Œè€Œä¸”è¿˜æœ‰é›†ä½“çš„è¦†ç›˜ï¼Œæ€»ç»“ç»éªŒï¼Œç”šå¥½ã€‚&lt;/p&gt;

&lt;p&gt;åˆæ—¶ä¹Ÿæ›¾æ‹…å¿ƒè¿‡è‡ªå·±çš„å¹´é¾„è¾ƒå¤§æ··è¿¹äº 90 åä¸­ææ ¼æ ¼ä¸å…¥ï¼Œç°åœ¨çœ‹æ¥æ˜¯æˆ‘å¤šè™‘ã€‚åœ¨è¿™é‡Œæˆ‘è¿˜æ˜¯èƒ½æ‰¾åˆ°å–œæ¬¢æ¸¸æˆçƒ­çˆ±è¶³çƒçš„å°ä¼™ä¼´ä»¬ã€‚ä¸šä½™ç”Ÿæ´»ä¹Ÿæ—¥ç›Šä¸°å¯Œäº†èµ·æ¥ï¼Œä¸ä¼¼ä»¥å¾€é™¤äº†åŠ ç­è¿˜æ˜¯åŠ ç­ã€‚ä¸ä»…å¿ƒæ€æ›´åŠ å¹´è½»ï¼Œæ›´æ˜¯é€šè¿‡é•¿æœŸçš„è¶³çƒé”»ç‚¼ï¼Œèº«ä½“ä¹Ÿæ„ˆåº·å¥ï¼Œç”šå¹¸ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å›¢é˜Ÿ&quot;&gt;å›¢é˜Ÿ&lt;/h2&gt;

&lt;p&gt;å½“åˆæ¢å·¥ä½œæ—¶ï¼Œå¿ƒä¸­åªæœ‰ä¸€ä¸ªæ ‡å‡†ï¼šäººã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äººä¸ºé’±ï¼Œæœ‰äººä¸ºç¯å¢ƒï¼Œæœ‰äººä¸ºå¤§å…¬å¸èƒŒæ™¯ï¼Œç„¶ä»¥ä¸ºåœ¨æ­¤é˜¶æ®µçš„è‡ªå·±ï¼Œè¿˜éœ€è‰¯ç¦½æ‹©æœ¨è€Œæ –ã€‚å› ä¸ºè¿‡å»è¢«çŒªé˜Ÿå‹ä»¬ä¼¤çš„å¤ªæ·±ï¼Œä¸€å‘è„¾æ°”æ¸©å’Œçš„æˆ‘ä¹Ÿä¼šè¢«é€¼çš„æš´æˆ¾å¤±æ€ï¼Œç®€ç›´ä¸å ªå›é¦–ã€‚è¿™æ˜¯å…¶ä¸€ï¼Œå†ä¸€ä¸ªæ˜¯è‡ªå·±è¿˜æœ‰å­¦ä¹ çš„åŠ¨åŠ›å’Œæ¬²æœ›ï¼Œæ­£æ‰€è°“ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;é©å‘½ä¸åˆ†å…ˆåï¼Œå­¦ä¹ ä¸åˆ†é•¿å¹¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç°åœ¨çš„ 90 åæ‰ä¿Šä»¬ï¼Œæœ‰ç€å¤ªå¤šå€¼å¾—æˆ‘å­¦ä¹ çš„åœ°æ–¹äº†ã€‚&lt;/p&gt;

&lt;p&gt;ç¿æ™ºè€Œå¤é“çƒ­è‚ çš„å¤è¡æ¹¾æµ·ç›—å›¢å›¢é•¿æ¹›å¢ï¼Œå¸¦é¢†ç€å°èªæ˜å¤§æ™ºæ…§çš„å°åšã€å¿ƒæ€ç¼œå¯†å­¦è€…é£èŒƒçš„é˜¿é£ã€æ€ç»´æ´»è·ƒæå®¢ç²¾ç¥çš„æ´›ä¹Ÿã€å­¦éœ¸ç©ºç©ºã€å¥½å±Œå¥½é’å¹´1moreã€å‰åé€šæ€å…¨æ ˆä¹˜é£è¿˜æœ‰é«˜æ™ºå•†è±¡æ£‹å¤§å¸ˆæ–‡è‡´ï¼Œç»„æˆäº†æˆ‘ä»¬è¿™ä¸ªç²¾è‹±å›¢é˜Ÿï¼Œæ€ä¸ä»¤äººç¥å¾€ï¼&lt;/p&gt;

&lt;p&gt;ç©ç¬‘å½’ç©ç¬‘ï¼Œå¯è¿™è¿‘ä¸€å¹´ä¸‹æ¥ï¼Œç»™æˆ‘çš„æ„Ÿè§‰ï¼Œå°±æ˜¯æ¯ä¸ªäººéƒ½æ˜¯è¿™ä¸ªå°é›†ä½“çš„æœåŠ¡æä¾›è€…ï¼›è€Œå›¢é˜Ÿå’Œä¸šåŠ¡æ–¹ï¼Œæ˜¯å…¬å¸çš„æœåŠ¡æä¾›è€…ã€‚&lt;strong&gt;æˆ‘ä»¬éƒ½æ˜¯ä»¥æœåŠ¡ä»–äººï¼Œå½°æ˜¾è‡ªèº«ä»·å€¼&lt;/strong&gt;ã€‚æ­¤ä»·å€¼è§‚äºæˆ‘å¯¹å¾…ä»£ç ä¹‹é“å¦‚å‡ºä¸€è¾™ï¼Œåœ¨æˆ‘çœ‹æ¥å†™ä»£ç çš„å››é‡å¢ƒç•Œåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;æ— é”™ï¼ˆæœ€åŸºæœ¬ï¼‰ã€åˆç†ï¼ˆæŠ½è±¡å¤ç”¨ï¼‰ã€ä¼˜é›…ï¼ˆsome magicï¼‰ã€åˆ©ä»–ï¼ˆæœ€é«˜å¢ƒç•Œï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ‰€ä»¥æœ‰æ­¤å…±åŒçš„è®¤è¯†ä¸‹ï¼Œåšèµ·äº‹æ¥æ•ˆç‡é¢‡é«˜ï¼Œå› ä¸ºä½ å¯ä»¥éšæ—¶è·å¾—é˜Ÿå‹çš„å¸®åŠ©ã€‚å¤§å®¶éƒ½æ˜¯è‡ªå‘çš„ï¼Œæ›´ä½•å†µåœ¨å¸®åŠ©ä»–äººä¹‹æ—¶ï¼Œè‡ªå·±ä¹Ÿèƒ½å­¦åˆ°æ›´å¤šï¼Œä½•ä¹è€Œä¸ä¸ºï¼Ÿ&lt;/p&gt;

&lt;h2 id=&quot;æŒ‘æˆ˜&quot;&gt;æŒ‘æˆ˜&lt;/h2&gt;

&lt;p&gt;å¸¸å¸¸å¬åˆ°ä¸€å¥è¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;èµ°å‡ºè‡ªå·±çš„èˆ’é€‚åŒº&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨è‡ªå·±ä¸ç†Ÿæ‚‰çš„é‚»åŸŸï¼Œäººä¼šæ„Ÿåˆ°æƒ¶æã€‚ä½†è¿™åªæ˜¯æš‚æ—¶çš„ã€‚17 å¹´ï¼Œæˆ‘ä»¬ iOS å’Œ Android çš„å°ä¼™ä¼´ä»¬è®©æˆ‘ååˆ†ä½©æœï¼Œæœ‰çš„äººåœ¨ç ”ç©¶åç«¯ç°éƒ½å¼€å§‹å¼€å¼ è¿å®¢æ¥éœ€æ±‚äº†ï¼Œæœ‰çš„äººçŸ­çŸ­çš„æ—¶é—´é‡Œè½¬åš H5 ä¸å°ç¨‹åºçš„éœ€æ±‚åšåˆ°æŒºæºœçš„äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä¿—è¯è¯´æŠ€å¤šä¸å‹èº«ï¼Œæˆ‘è§‰å¾—æ¥è§¦çš„è¶Šå¤šï¼Œäº†è§£çš„è¶Šå¹¿ï¼Œå¯¹è‡ªå·±å°†æ¥çš„æ¶æ„å†³ç­–ï¼Œä¼šæ›´åŠ æœ‰ç›Šçš„ã€‚æ‰€ä»¥æˆ‘ä¹Ÿæƒ³ç»™è‡ªå·±ä¸€äº›æŒ‘æˆ˜ï¼Œå¤šäº†è§£ä¸€äº›å…¶å®ƒçš„æŠ€æœ¯ï¼Œç”šè‡³æ˜¯æŠ€æœ¯ä¹‹å¤–çš„ï¼Œè­¬å¦‚ä¸“ä¸šçš„ä¸šåŠ¡çŸ¥è¯†ä¸æ•°æ®åˆ†æç­‰ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æœŸå¾…&quot;&gt;æœŸå¾…&lt;/h2&gt;

&lt;p&gt;å¦‚æœè¯´ 2017 æ˜¯ç£¨åˆä¸è°ƒæ•´å¿ƒæ€çš„ä¸€å¹´ï¼Œæˆ‘å¸Œæœ› 2018 æ˜¯æœ‰æ‰€ä¸ºã€æœ‰æ‰€çªç ´çš„ä¸€å¹´ã€‚ä¹Ÿå¸Œæœ›æ–°çš„ä¸€å¹´é‡Œï¼Œèƒ½ä¸ºå›¢é˜Ÿçš„å°ä¼™ä¼´ä»¬çš„æˆé•¿å‡ºä»½ç»µè–„ä¹‹åŠ›ã€‚&lt;/p&gt;</content><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><category term="work" /><category term="summary" /><summary type="html">åŠ å…¥åˆ°è˜‘è‡è¡—è¿˜æœªæ»¡ä¸€å¹´ï¼Œè‡ªæ„Ÿå†äº‹ä¸å¤šï¼Œæ— å½°å¯è¡¨ï¼Œæ— ç»©å¯è¨€ã€‚å›æœ›è¿™ä¸€å¹´ï¼Œå¤šæ˜¯è¡Œäº‹å’Œå¿ƒæ€ä¸Šçš„è½¬å˜ã€‚</summary></entry><entry><title type="html">Mac ä¸­è§£å†³ gitk æ¨¡ç³Šé—®é¢˜</title><link href="https://roshanca.com/2017/make-gitk-retina-in-mac/" rel="alternate" type="text/html" title="Mac ä¸­è§£å†³ gitk æ¨¡ç³Šé—®é¢˜" /><published>2017-11-14T00:00:00+00:00</published><updated>2017-11-14T00:00:00+00:00</updated><id>https://roshanca.com/2017/make-gitk-retina-in-mac</id><content type="html" xml:base="https://roshanca.com/2017/make-gitk-retina-in-mac/">&lt;p&gt;gitk æ˜¯ä¸ª git è‡ªå¸¦çš„ gui å°å·¥å…·ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ç”¨äºæ˜¾ç¤ºä»“åº“æˆ–æ‰€é€‰çš„ä¸€ç³»åˆ—æäº¤çš„æ”¹åŠ¨ã€‚å®ƒåŒ…å«äº†æäº¤çš„å¯è§†åŒ–å›¾å½¢ï¼Œå±•ç°äº†å„æäº¤ç‚¹ä¹‹é—´çš„å…³è”ä¿¡æ¯ï¼Œä»¥åŠå„ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶æ ‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¥½ç”¨æ˜¯æŒºå¥½ç”¨ï¼Œå¯å¹´ä¹…æœªæ›´ï¼Œåœ¨ Retina å±æ¼«å¤©é£çš„å½“ä¸‹ï¼Œæ˜¾å¾—æœ‰ç‚¹ä¸‘é™‹äº†ã€‚å¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://s10.mogucdn.com/mlcdn/c45406/171114_87g4dk0195cfcceajclb63eei6e7b_1050x984.png&quot; title=&quot;Origin Wish App&quot;&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/171114_87g4dk0195cfcceajclb63eei6e7b_1050x984.png&quot; alt=&quot;&quot; title=&quot;Origin Wish App&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¦‚ä½•ä¸ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹å·¥å…·ï¼ˆe.g. &lt;a href=&quot;http://retinizer.mikelpr.com/&quot;&gt;retinizer&lt;/a&gt;ï¼‰ï¼Œé¡ºåˆ©å¼€å¯ gitk çš„ retina æ¨¡å¼å‘¢ï¼ŸLetâ€™s do it~&lt;/p&gt;

&lt;h2 id=&quot;ä¸´æ—¶å…³é—­ç³»ç»Ÿä¿æŠ¤&quot;&gt;ä¸´æ—¶å…³é—­ç³»ç»Ÿä¿æŠ¤&lt;/h2&gt;

&lt;p&gt;Mac è‡ª OS X EI Capitan ç‰ˆæœ¬ä¹‹åï¼Œæ— æ³•ç›´æ¥ä¿®æ”¹ç³»ç»Ÿçš„ System ç›®å½•ï¼Œéœ€å…³é—­ç³»ç»Ÿä¿æˆ·æ‰è¡Œã€‚æƒ³è¦å…³é—­ï¼Œå¾—å…ˆè¿›å…¥ç³»ç»Ÿ Recover æ¨¡å¼ï¼šé‡å¯ç”µè„‘ï¼ŒæŒ‰ä½ &lt;code class=&quot;highlighter-rouge&quot;&gt;âŒ˜ + R&lt;/code&gt; ä¸æ”¾ã€‚&lt;/p&gt;

&lt;p&gt;è¿›å…¥ Recover æ¨¡å¼åï¼Œåœ¨èœå•æ ä¸­é€‰æ‹© â€œUtilities â†’ Terminalâ€ ï¼ˆå®ç”¨å·¥å…· â†’ ç»ˆç«¯ï¼‰ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;csrutil status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç³»ç»Ÿä¼šæç¤ºä¿æˆ·çŠ¶æ€æ˜¯ enable è¿˜æ˜¯ disableï¼Œå¦‚æœæ˜¯ enable çš„è¯ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ disable ä¸€ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;csrutl disable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é‡å¯è¿›å…¥æ­£å¸¸æ¨¡å¼ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä¿®æ”¹-wishapp-çš„-infoplist&quot;&gt;ä¿®æ”¹ Wish.app çš„ Info.plist&lt;/h2&gt;

&lt;p&gt;åˆ©ç”¨ç»ˆç«¯å®šä½åˆ° Wish.app çš„ç›®å½•ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd /System/Library/Frameworks/Tk.framework/Versions/Current/Resources
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰“å¼€ Info.plist&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo vi Wish.app/Contents/Info.plist
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ç»“æŸæ ‡ç­¾ &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;/dict&amp;gt;&lt;/code&gt; ä¹‹å‰ï¼Œæ’å…¥ä»¥ä¸‹ä¸¤è¡Œä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;NSHighResolutionCapable&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;true/&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;æ›´æ–°-wishapp&quot;&gt;æ›´æ–° Wish.app&lt;/h2&gt;

&lt;p&gt;è¦ä½¿å…¶ç”Ÿæ•ˆï¼Œéœ€æ›´æ–° Wish.appï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;ç›´æ¥åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; sudo touch Wish.app
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å¦‚æœä½ ä¸æ”¾å¿ƒæƒ³åšä¸ªå¤‡ä»½çš„è¯ï¼Œå¯ä»¥è¿™æ ·æ“ä½œï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; sudo cp -R Wish.app WishCopy.app
 sudo mv Wish.app WishOriginal.app
 sudo mv WishCopy.app Wish.app
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;å†æ¬¡å¼€å¯ç³»ç»Ÿä¿æˆ·&quot;&gt;å†æ¬¡å¼€å¯ç³»ç»Ÿä¿æˆ·&lt;/h2&gt;

&lt;p&gt;å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œé‡å¯æŒ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;âŒ˜ + R&lt;/code&gt; å†æ¬¡è¿›å…¥ Recover æ¨¡å¼ï¼Œä¸€æ ·è°ƒå‡ºç»ˆç«¯ï¼Œè¾“å…¥ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;csrutil enable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åé‡å¯å›åˆ°æ­£å¸¸æ¨¡å¼ï¼Œdone.&lt;/p&gt;

&lt;h2 id=&quot;æ•ˆæœå±•ç¤º&quot;&gt;æ•ˆæœå±•ç¤º&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://s10.mogucdn.com/mlcdn/c45406/171114_1g8ak522be15bdfdd7hh6dhi60f44_1050x829.png&quot; title=&quot;Retina Wish App&quot;&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/171114_1g8ak522be15bdfdd7hh6dhi60f44_1050x829.png&quot; alt=&quot;&quot; title=&quot;Retina Wish App&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç¨å¾®è°ƒæ•´ä¸‹å­—ä½“åï¼Œç«‹åˆ»é¡ºçœ¼å¤šäº† (à² â€¿à² )&lt;/p&gt;</content><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><category term="git" /><category term="mac" /><summary type="html">gitk æ˜¯ä¸ª git è‡ªå¸¦çš„ gui å°å·¥å…·ã€‚</summary></entry><entry><title type="html">è´­æ¬ç“¦å·¥å®‰è£… SS ç¿»è¶Šâ€œé•¿åŸâ€</title><link href="https://roshanca.com/2017/install-ss-for-bandwagonhost/" rel="alternate" type="text/html" title="è´­æ¬ç“¦å·¥å®‰è£… SS ç¿»è¶Šâ€œé•¿åŸâ€" /><published>2017-11-08T00:00:00+00:00</published><updated>2017-11-08T00:00:00+00:00</updated><id>https://roshanca.com/2017/install-ss-for-bandwagonhost</id><content type="html" xml:base="https://roshanca.com/2017/install-ss-for-bandwagonhost/">&lt;p&gt;&lt;a href=&quot;https://bandwagonhost.com/aff.php?aff=18390&quot;&gt;æ¬ç“¦å·¥ï¼ˆBandwagonï¼‰&lt;/a&gt;æ˜¯ä¸€å®¶æœ‰å£çš†ç¢‘çš„ç¾å›½è€ç‰Œ VPS æœåŠ¡å•†ï¼Œä»¥æ€§ä»·æ¯”é«˜è€Œé—»åã€‚&lt;/p&gt;

&lt;h2 id=&quot;è´­ä¹°&quot;&gt;è´­ä¹°&lt;/h2&gt;

&lt;p&gt;å›½å†…ç”¨æˆ·è´­ä¹°çš„ä¸€èˆ¬æ˜¯é€‰ SPECIAL 10G KVM PROMO V3 - LOS ANGELES - CN2 (&lt;a href=&quot;https://bwh1.net/cart.php?a=confproduct&amp;amp;i=0&quot;&gt;ç‚¹å‡»è´­ä¹°&lt;/a&gt;) è¿™æ¡£äº§å“ï¼Œå‚æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;SSD&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;RAM&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Transfer&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Link speed&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Price&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;10 GB RAID-10&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;512 MB&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;500 GB/mo&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1 Gigabit&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;$29.99/å¹´&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å·®ä¸å¤š 30 åˆ€ä¸€å¹´ï¼Œç”¨ä¼˜æƒ ç  &lt;code class=&quot;highlighter-rouge&quot;&gt;BWH1ZBPVK&lt;/code&gt; è´­ä¹°å¯äº« 6.00% çš„æŠ˜æ‰£å¹…åº¦ã€‚&lt;/p&gt;

&lt;p&gt;æ´›æ‰çŸ¶æœºæˆ¿çš„ ping ä¸€èˆ¬åœ¨ 200 ms å·¦å³ï¼Œå¦‚è‹¥è§‰å¾—è¿˜ä¸èƒ½æ»¡è¶³ï¼Œå¯é€‰é¦™æ¸¯æœºæˆ¿ï¼šSPECIAL 20G KVM PROMO V3 - HONG KONG (&lt;a href=&quot;https://bwh1.net/aff.php?aff=18390&amp;amp;pid=61&quot;&gt;ç‚¹å‡»è´­ä¹°&lt;/a&gt;)ã€‚ä½†ä¸€èˆ¬è¦é æŠ¢ï¼Œå¸¸å¹´éƒ½æ˜¯ out of stock çš„çŠ¶æ€ï¼Œæ‰‹æ…¢æ— ğŸ˜‚ã€‚é…ç½®æ˜¯æ¯”ä¸Šä¸€ä¸ªé«˜äº†ä¸€æ¡£ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;SSD&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;RAM&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Transfer&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Link speed&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Price&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;20 GB RAID-10&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1024 MB&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;100 GB/mo&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1 Gigabit&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;$9.99/æœˆ&lt;br /&gt;$99.99/å¹´&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ä½†ä»·æ ¼ä¹Ÿé«˜äº†ä¸€ä¸ªå±‚æ¬¡ï¼Œæœˆä»˜ 9.99 åˆ€ï¼Œå¹´ä»˜è¦ 99.99 åˆ€ï¼Œå®åœ¨æ˜¯ä¸ä¾¿å®œã€‚è€Œä¸”æ¯æœˆæµé‡åªæœ‰ 100Gï¼Œè¿˜ä¸å¦‚æ´›æ‰çŸ¶çš„ 500G å‘¢ã€‚ä¼˜åŠ¿å‘¢å°±æ˜¯è¶…ä½çš„ pingï¼ˆä¼°è®¡åº”è¯¥å’Œé˜¿é‡Œäº‘é¦™æ¸¯æœºæˆ¿çš„ 100ms å·¦å³å·®ä¸å¤šï¼‰ï¼Œå®¹é‡å†…å­˜å¤§ä¸€å€ã€‚&lt;/p&gt;

&lt;p&gt;ä¹°æ¬ç“¦å·¥è¿˜æœ‰ä¸€ä¸ªç†ç”±æ˜¯æ”¯æŒæ”¯ä»˜å®æ”¯ä»˜ï¼Œç›¸å¯¹æ¥è¯´ï¼Œå…¶å®ƒå¾ˆå¤šå›½å¤–çš„ VPS æœåŠ¡å•†ï¼Œç”¨ä¿¡ç”¨å¡æ”¯ä»˜è¦å¡«å†™ä¸€å¤§å †èµ„æ–™ï¼Œç¹çä¸è¯´ï¼Œæœ‰æ—¶å€™è¿˜è¦å®¡æ ¸ï¼ˆé¢„é˜²ä¿¡ç”¨å¡æ¬ºè¯ˆç­‰ï¼‰ä¸€ç­‰å¥½å¤šå¤©ï¼Œç”šæ˜¯éº»çƒ¦ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¼€å¯-bbr&quot;&gt;å¼€å¯ BBR&lt;/h2&gt;

&lt;p&gt;ä¸ºäº†è®© CN2 çš„é€Ÿåº¦æ›´åŠ ç†æƒ³ï¼Œå¯ä»¥å¼€å¯ BBR&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;ã€‚å¼€å¯ BBRï¼Œéœ€è¦å†…æ ¸ç‰ˆæœ¬çš„æ”¯æŒï¼Œä¸è¿‡æ¬ç“¦å·¥ä¹Ÿè´´å¿ƒçš„æä¾›äº†æ”¯æŒ BBR çš„ç³»ç»Ÿæ¨¡æ¿ï¼Œå¯ä»¥ç›´æ¥é‡æ–°åˆå§‹åŒ–ç³»ç»Ÿï¼Œå¹¶é€‰æ‹©å¸¦æœ‰ BBR çš„ç³»ç»Ÿæ¨¡æ¿å³å¯ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/171108_1426akkj5f56jh7bc8ff5d79fgl8d_1135x631.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ä¸€é”®å®‰è£…-ss-æœåŠ¡ç«¯&quot;&gt;ä¸€é”®å®‰è£… SS æœåŠ¡ç«¯&lt;/h2&gt;

&lt;p&gt;åœ¨æ§åˆ¶é¢ç‰ˆå·¦ä¾§èœå•çš„åº•éƒ¨ï¼Œæ‰¾åˆ° Shadowsocks Serverï¼Œé€‰æ‹©åç‚¹å‡»å®‰è£…å³å¯ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/171108_1g9ff4afd6lgbfeh1g4b8i82g4cgg_845x793.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹æ¥ç­‰å¾…ä¸€ä¼šå„¿ä¼šæç¤ºå®‰è£…å®Œæˆï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/171108_3f9h7ak8i56b199b4eceb7d2ik2f4_822x505.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å®‰è£…å®Œæˆåå³å¯çœ‹åˆ°æœåŠ¡çš„é…ç½®é¡¹ï¼Œä¾æ¬¡æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Shadowsocks server encryption: åŠ å¯†æ–¹å¼&lt;/li&gt;
  &lt;li&gt;Shadowsocks server port: ç«¯å£&lt;/li&gt;
  &lt;li&gt;Shadowsocks server password: å¯†ç &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å®‰è£…-ss-å®¢æˆ·ç«¯&quot;&gt;å®‰è£… SS å®¢æˆ·ç«¯&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Mac: &lt;a href=&quot;https://github.com/shadowsocks/ShadowsocksX-NG/releases/&quot;&gt;ä¸‹è½½åœ°å€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Window: &lt;a href=&quot;https://sourceforge.net/projects/shadowsocksgui/files/dist/&quot;&gt;ä¸‹è½½åœ°å€&lt;/a&gt;&lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
  &lt;li&gt;Android: &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.github.shadowsocks&quot;&gt;ä¸‹è½½åœ°å€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;iOS: &lt;a href=&quot;https://github.com/shadowsocks/shadowsocks-iOS/wiki/Help&quot;&gt;ä¸‹è½½åœ°å€&lt;/a&gt;&lt;sup id=&quot;fnref:3&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å®‰è£…å¥½åï¼Œå¯¹ç…§ç€ä¹‹å‰é…ç½®å¥½çš„æœåŠ¡ç«¯å‚æ•°ï¼Œè¿›è¡Œä¸€ç•ªé…ç½®ï¼Œå¼€å¯è¿è¡Œå³å¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/171108_71j926h508135748gjg9bgk1fh5l4_488x331.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;BBR æ˜¯æ¥è‡ªäº Google çš„é»‘ç§‘æŠ€ï¼Œç›®çš„æ˜¯é€šè¿‡ä¼˜åŒ–å’Œæ§åˆ¶ TCP çš„æ‹¥å¡ï¼Œå……åˆ†åˆ©ç”¨å¸¦å®½å¹¶é™ä½å»¶è¿Ÿï¼Œèµ·åˆ°ç¥å¥‡èˆ¬çš„åŠ é€Ÿæ•ˆæœã€‚Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;em&gt;shadowsocks-win-xxx.zip&lt;/em&gt; æ˜¯ for windows 7 åŠä¹‹å‰çš„ç‰ˆæœ¬çš„ï¼Œ&lt;em&gt;shadowsocks-win-dotnet-xxx.zip&lt;/em&gt; æ˜¯ for windows 8 ä»¥åŠç°åœ¨æœ€æ–°çš„ windows 10 çš„ã€‚Â &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;iOS çš„ APP ç›®å‰åªé™ç¾å›½å•†åº—ã€‚ä½ è¦æ˜¯æ²¡æœ‰ç¾å›½çš„ Apple è´¦æˆ·ï¼Œé‚£è¿˜æ˜¯ç®—äº†ã€‚Â &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><category term="vps" /><summary type="html">æ¬ç“¦å·¥ï¼ˆBandwagonï¼‰æ˜¯ä¸€å®¶æœ‰å£çš†ç¢‘çš„ç¾å›½è€ç‰Œ VPS æœåŠ¡å•†ï¼Œä»¥æ€§ä»·æ¯”é«˜è€Œé—»åã€‚</summary></entry><entry><title type="html">å‰ç«¯å·¥ç¨‹åŒ–ä½“ç³»</title><link href="https://roshanca.com/2017/front-end-engineering-system/" rel="alternate" type="text/html" title="å‰ç«¯å·¥ç¨‹åŒ–ä½“ç³»" /><published>2017-01-21T00:00:00+00:00</published><updated>2017-01-21T00:00:00+00:00</updated><id>https://roshanca.com/2017/front-end-engineering-system</id><content type="html" xml:base="https://roshanca.com/2017/front-end-engineering-system/">&lt;p&gt;ä½•è°“å‰ç«¯å·¥ç¨‹åŒ–ï¼Ÿå³æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹ï¼Œå°†å‰ç«¯å¼€å‘æµç¨‹è§„èŒƒåŒ–ã€æ ‡å‡†åŒ–ã€‚å®ƒä¸»è¦åŒ…å«ä¸åŒä¸šåŠ¡åœºæ™¯çš„æŠ€æœ¯é€‰å‹ã€ä»£ç è§„èŒƒã€æ„å»ºå‘å¸ƒæ–¹æ¡ˆç­‰ã€‚ä¸»è¦ç›®åœ°æ˜¯ä¸ºäº†æå‡å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆçš„å¼€å‘æ•ˆç‡ä¸ä»£ç è´¨é‡ï¼Œé™ä½å‰åç«¯è”è°ƒçš„æ²Ÿé€šæˆæœ¬ï¼Œä½¿å¾—å‰åç«¯å·¥ç¨‹å¸ˆæ›´åŠ ä¸“æ³¨äºè‡ªèº«æ“…é•¿é¢†åŸŸã€‚&lt;/p&gt;

&lt;p&gt;æœ¬äººä»ä¸šè¿™å‡ å¹´æœ‰ç§¯ç´¯äº†ä¸€äº›äº§å“å’Œé¡¹ç›®ç»éªŒï¼Œå¯¹å‰ç«¯å·¥ç¨‹ä½“ç³»çš„è®¾è®¡æœ‰ä¸€äº›è‡ªå·±çš„è§è§£ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å‰ç«¯å¼€å‘åº”è¯¥æ˜¯â€œè‡ªæˆä½“ç³»â€çš„ï¼ŒåŒ…æ‹¬è¿ç»´å¸ƒç½²ã€æ—¥å¿—ç›‘æ§ç­‰&lt;/li&gt;
  &lt;li&gt;é’ˆå¯¹ä¸åŒçš„åœºæ™¯æœ‰ä¸åŒçš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸æ˜¯ä¸€å¥—å¤§è€Œå…¨çš„æ¡†æ¶ä½“ç³»ã€‚æ¯”å¦‚é’ˆå¯¹ä»¥äº§å“å®£ä¼ å±•ç¤ºä¸ºä¸»çš„ç½‘é¡µ(Site)ï¼Œé‡‡ç”¨å¤šé¡µæ¨¡å¼å’Œå“åº”å¼è®¾è®¡å¼€å‘ï¼›ä»¥ç”¨æˆ·äº¤äº’ä¸ºä¸»çš„ä¸”æ— å¼ºçƒˆ SEO è¦æ±‚çš„åº”ç”¨(Application)ï¼Œé‡‡ç”¨å•é¡µæ¨¡å¼å¼€å‘&lt;/li&gt;
  &lt;li&gt;äº§å“ç»„ä»¶åŒ–ï¼Œä¸ºæé«˜å¤ç”¨æ€§å°½é‡å°†ç»„ä»¶çš„é¢—ç²’åº¦åˆ†ç»†ä¸€äº›ï¼Œä¸”ä½è€¦åˆé«˜å†…èš&lt;/li&gt;
  &lt;li&gt;é¿å…é‡å¤é€ è½®å­ï¼Œå¼•å…¥ä¸€äº›ä¼˜ç§€çš„å¼€æºèµ„æºï¼Œå–é•¿è¡¥çŸ­&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ ¹æ®ä»¥ä¸Šæ€è€ƒï¼Œå¤§è‡´å°†è‡ªå·±ç†è§£çš„å‰ç«¯å·¥ç¨‹ä½“ç³»åˆ†ä¸ºä¸‰å¤§å—ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Node æœåŠ¡å±‚&lt;/strong&gt;ï¼šä¸»è¦åšæ•°æ®çš„ä»£ç†å’Œ Mockï¼Œurl çš„è·¯ç”±åˆ†å‘ï¼Œè¿˜æœ‰æ¨¡æ¿æ¸²æŸ“&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Web åº”ç”¨å¼€å‘å±‚&lt;/strong&gt;ï¼šä¸»è¦ä¸“æ³¨ Web äº¤äº’ä½“éªŒ&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å‰ç«¯è¿ç»´å±‚&lt;/strong&gt;ï¼šæ„å»ºå¸ƒç½²ã€æ—¥å¿—ç›‘æ§ç­‰&lt;/li&gt;
&lt;/ul&gt;

&lt;figure&gt;
&lt;a href=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_40l28id1i239ji26d686icbbb5jed_1001x537.png&quot;&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_40l28id1i239ji26d686icbbb5jed_1001x537.png&quot; alt=&quot;&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;å›¾1: ç‚¹å‡»æŸ¥çœ‹åŸå›¾&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;node-æœåŠ¡å±‚&quot;&gt;Node æœåŠ¡å±‚&lt;/h2&gt;

&lt;h3 id=&quot;æ•°æ®ä»£ç†&quot;&gt;æ•°æ®ä»£ç†&lt;/h3&gt;

&lt;p&gt;ä¸€èˆ¬åœ¨ web åº”ç”¨ä¸­ï¼Œæ•°æ®çš„æ¥æºåˆ†ä¸ºä¸¤ç±»ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ç”¨æˆ·äº¤äº’äº§ç”Ÿçš„ ajax è¯·æ±‚ï¼ˆå®¢æˆ·ç«¯å‘èµ·ï¼‰&lt;/li&gt;
  &lt;li&gt;æœåŠ¡ç«¯æ¨¡æ¿æ¸²æŸ“æ‰€éœ€åˆå§‹æ•°æ®&lt;/li&gt;
&lt;/ul&gt;

&lt;figure&gt;
&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_50j4je49cc5hk95kf52c012kc46b6_1259x734.png&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;å›¾2: é¡µé¢æ•°æ®çš„ä¸¤ç§æ¥æº&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;å‰è€…æ¥è¯´ï¼Œä¼ ç»Ÿçš„åšæ³•æ˜¯åç«¯ç›´æ¥æä¾›æ¥å£ç»™ä¾›å®¢æˆ·ç«¯è°ƒç”¨ï¼Œä½†é¢ä¸´å¾®æœåŠ¡åŒ–é€æ¸æˆä¸ºä¸»æµçš„ä»Šå¤©ï¼Œåç«¯ç³»ç»Ÿä¹Ÿè¶‹äºæ‹†åˆ†ä¸ºä¼—å¤šåç«¯æœåŠ¡ï¼Œæä¾›ä¸åŒçš„ apiï¼Œç›´æ¥è°ƒç”¨é¢ä¸´è¯·æ±‚è®¤è¯å’Œè·¨åŸŸç­‰ä¼—å¤šé—®é¢˜ï¼ŒNode åšä¸ºä¸­è½¬ç«™åˆ©ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;http-proxy&lt;/code&gt; å°† http è¯·æ±‚å’Œå“åº”ä¼ è¾“äºå‰åä¸¤ç«¯ï¼Œèµ·åˆ°æ¡¥æ¢ä½œç”¨ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äººè¯´ç›´æ¥è¯·æ±‚åç«¯ api å²‚ä¸æ˜¯æ€§èƒ½æ›´ä½³ï¼Ÿè·¨åŸŸé—®é¢˜ç›´æ¥ç”¨ CORSï¼ˆCross-origin resource sharingï¼‰ä¸æ˜¯ä¹Ÿèƒ½è§£å†³ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹è·¨åŸŸé—®é¢˜ï¼šé¦–å…ˆ CORS æœ‰å…¼å®¹æ€§é—®é¢˜ï¼ˆä¸æ”¯æŒ IE10 åŠä»¥ä¸‹ï¼‰ï¼Œå…¶æ¬¡è¿˜æœ‰ä¸€äº›é™åˆ¶æˆ–è€…è¯´æ˜¯è‡ªèº«å±€é™ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦å‘é€Cookieï¼ŒAccess-Control-Allow-Originå°±ä¸èƒ½è®¾ä¸ºæ˜Ÿå·ï¼Œå¿…é¡»æŒ‡å®šæ˜ç¡®çš„ã€ä¸è¯·æ±‚ç½‘é¡µä¸€è‡´çš„åŸŸåã€‚åŒæ—¶ï¼ŒCookieä¾ç„¶éµå¾ªåŒæºæ”¿ç­–ï¼Œåªæœ‰ç”¨æœåŠ¡å™¨åŸŸåè®¾ç½®çš„Cookieæ‰ä¼šä¸Šä¼ ï¼Œå…¶ä»–åŸŸåçš„Cookieå¹¶ä¸ä¼šä¸Šä¼ ï¼Œä¸”ï¼ˆè·¨æºï¼‰åŸç½‘é¡µä»£ç ä¸­çš„document.cookieä¹Ÿæ— æ³•è¯»å–æœåŠ¡å™¨åŸŸåä¸‹çš„Cookieã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;é’ˆå¯¹æ€§èƒ½é—®é¢˜ï¼Œæˆ‘æ‹¿äº†å…¬å¸é¡¹ç›®çš„ api å‡ ä¸ªæ¥å£åšäº†äº›æµ‹è¯•ï¼Œä¸æ˜¯éå¸¸ç²¾ç¡®ï¼Œä½†ä¹Ÿèƒ½çœ‹ä¸ªå¤§æ¦‚ã€‚åˆ†åˆ«åœ¨ No throtting å’Œ Regular 4G ï¼ˆæ¨¡æ‹Ÿç§»åŠ¨ç«¯ç½‘ç»œï¼‰çš„æ¨¡å¼ä¸‹ï¼Œç”¨ proxyï¼ˆhttp-proxy ä»£ç†è¯·æ±‚ï¼‰ï¼Œdirectï¼ˆç›´æ¥è¯·æ±‚åç«¯åœ°å€ï¼‰å’Œ nodeï¼ˆåˆ©ç”¨ &lt;a href=&quot;https://www.npmjs.com/package/request&quot;&gt;request&lt;/a&gt; æ¨¡å—å‘èµ·è¯·æ±‚ï¼‰ä¸‰ç§æ¨¡å¼ï¼Œåšäº† GET å’Œ POST è¯·æ±‚çš„å»¶è¿Ÿæ¯”å¯¹ã€‚åœ¨æ¯”å¯¹ä¹‹å‰å¿ƒé‡Œä¹Ÿå¤§æ¦‚æœ‰æ•°ï¼Œè‚¯å®šæ˜¯ç›´æ¥è¯·æ±‚åç«¯åœ°å€çš„å»¶è¿Ÿæœ€ä½ï¼Œæ¯•ç«ŸåŠ äº† Node ä¸€å±‚ï¼Œæ€§èƒ½ä¼šç”±æŸè€—ã€‚ä»¥ä¸‹æ˜¯æµ‹è¯•ç»“æœï¼š&lt;/p&gt;

&lt;figure&gt;
&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_31020jdgacaida759g78jkl6dif32_1280x733.png&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;No throtting GET&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_03gk9h936b8d6keh3l0ljaa878j9i_1280x695.png&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;No throtting POST&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_5c016g94bl21df74l1hd9d49ejfj5_1280x726.png&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;Regular 4G GET&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_1dbf8cc9ec26517ihgc15jgc79e1b_1280x727.png&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;Regular 4G POST&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;å¯ä»¥çœ‹å‡ºï¼ŒGET è¯·æ±‚ä¸­ direct æ˜¯æœ€å¿«çš„ï¼Œproxy æ¬¡ä¹‹ï¼Œnode request å«åº•ï¼ŒPOST åˆ™ç›¸å·®ä¸æ˜æ˜¾ã€‚ä½†å»¶è¿Ÿå·®è·åŸºæœ¬åœ¨ 30ms å·¦å³ï¼Œæ˜¯å¦å¯ä»¥æ¥å—ï¼Œå°±è¦çœ‹è‡ªå·±çš„ç³»ç»Ÿæ¶æ„å¯¹æ€§èƒ½çš„è¦æ±‚æœ‰å¤šé«˜äº†ã€‚å¯¹äºæˆ‘å¸ç›®å‰çš„è§„æ¨¡ä½“é‡ç”¨æˆ·æ•°æ¥è¯´ï¼Œæˆ‘è®¤ä¸ºåŸºæœ¬æ˜¯å¯ä»¥å¿½ç•¥çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä½†ä¸ºä»€ä¹ˆä¸€å®šè¦ç”¨ Node æ¥åš http è¯·æ±‚çš„ä»£ç†è½¬å‘ï¼Ÿæˆ‘çš„ç†ç”±ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å‰æœŸå‰ç«¯å¼€å‘è¿‡ç¨‹ä¸­ mock å¯ä¸åæœŸåç«¯æ¥å£åšå¹³æ»‘è¿‡æ¸¡ï¼Œå®¢æˆ·ç«¯å¯åšåˆ°æ— æ„ŸçŸ¥ã€‚ç”šè‡³è¿˜èƒ½åœ¨ mock æ•°æ®å’ŒçœŸå®æ•°æ®ä¹‹é—´æ¥å›åˆ‡æ¢ï¼Œååˆ†çµæ´»&lt;/li&gt;
  &lt;li&gt;å½“åç«¯æœåŠ¡å¢å¤šæ—¶ï¼Œç‰¹åˆ«æ˜¯å†…éƒ¨ç³»ç»Ÿï¼Œè·¨åŸŸè°ƒç”¨å¾ˆæˆé—®é¢˜ï¼ŒNode ä»£ç†è½¬å‘ä»æ ¹æœ¬ä¸Šè§£å†³è·¨åŸŸé—®é¢˜ï¼Œä¸ç”¨æ‹…å¿ƒ Cookie ä¸¢å¤±ç­‰é—®é¢˜ã€‚è€Œä¸”åœ¨ Node å±‚é’ˆå¯¹ http çš„è¯·æ±‚å’Œç›¸åº”èƒ½åšè¿›ä¸€æ­¥æ‹¦æˆªå’Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚å®šåˆ¶è¿™äº›äºŒæ¬¡åŠ å·¥ï¼Œé€‚ç”¨äºæ›´åŠ å¹¿æ³›çš„åœºæ™¯&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æˆ‘åœ¨ä¹‹å‰åšå…¬å¸çš„æ¨¡æ‹Ÿç‚’è‚¡é¡¹ç›®æ—¶ï¼Œå¤§æ¦‚å°±æ˜¯è¿™æ ·ç”¨æ»´ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;è´¦æˆ·ç³»ç»Ÿ&lt;/th&gt;
      &lt;th&gt;è¡Œæƒ…ç³»ç»Ÿ&lt;/th&gt;
      &lt;th&gt;äº¤æ˜“ç³»ç»Ÿ&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;/api/account&lt;/td&gt;
      &lt;td&gt;/api/stock&lt;/td&gt;
      &lt;td&gt;/api/trade&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// è´¦æˆ·ç³»ç»Ÿ API&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;/api/account&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;accout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;forwardPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// è‚¡ç¥¨è¡Œæƒ… API&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;/api/stock&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;forwardPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// è‚¡ç¥¨äº¤æ˜“ APIã€€&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;/api/trade&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;proxy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;trade&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;forwardPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è‡³äºæœåŠ¡ç«¯æ¸²æŸ“ï¼Œä¹‹å‰ä¸€ç›´æ˜¯ç”¨ JSP or PHP ç­‰åç«¯æ¨¡æ¿æ¥åšã€‚ç°åœ¨åˆå¤šäº†ä¸€ç§é€‰æ‹©ï¼ŒNode æœ¬èº«å°±æ˜¯ä¸ªæœåŠ¡ç«¯ï¼Œè€Œä¸”æ¨¡æ¿æœ¬èº«æ˜¯å±äºè§†è§‰å±‚å’Œæ•°æ®å±‚çš„ç»“åˆå“ã€‚åœ¨å‰åç«¯åˆ†ç¦»çš„æ¯”è¾ƒåˆç†çš„æ¡ä»¶ä¸‹ï¼Œè®©å‰ç«¯å·¥ç¨‹å¸ˆæ¥å†™æœåŠ¡ç«¯æ¨¡æ¿æ›´åŠ é€‚åˆï¼Œå› ä¸ºæ­¤æ—¶ Node æœåŠ¡å±‚åº”è¯¥ä¸åŒ…å«å¤æ‚çš„æ•°æ®è¿ç®—ï¼ˆCPU å¯†é›†å‹é Node æ“…é•¿åœºæ™¯ï¼‰ï¼Œè¿™é‡Œçš„æ•°æ®æ¥æºéƒ½æ˜¯æ¯”è¾ƒç›´æ¥å’Œæ¸…æ™°çš„ï¼Œé¡¶å¤šè¦å¯¹è¿™äº›æ•°æ®åšäº›ä¸šåŠ¡åŠ å·¥å¤„ç†è€Œå·²ã€‚ä½†å¯¹å‰ç«¯äººå‘˜æ¥è¯´ï¼Œäº†è§£ä¸šåŠ¡é€»è¾‘æ˜¯å¿…å¤‡çš„ï¼Œä¹Ÿæ˜¯å¿…éœ€çš„ï¼Œæˆ‘ä»¬å€¡å¯¼çš„ã€‚&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰ä¸€ç‚¹æ˜¯å› ä¸ºä¸‹æ–‡ä¸­å°†è¦ä»‹ç»çš„ Web åº”ç”¨å¼€å‘ä¸­ï¼Œå¼€å‘æ„å»ºçš„å·¥å…·æœ¬èº«å°±æ˜¯åŸºäº Node çš„ï¼Œæ„å»ºåçš„é™æ€èµ„æºå¦‚ä½•åœ¨æ¨¡æ¿é¡µé¢ä¸­å¼•å…¥ï¼Œè¿˜æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆæœ€ä¸ºæ¸…æ¥šã€‚æ‰€ä»¥è™½æ¨¡æ¿å±äºæœåŠ¡ç«¯èŒƒç•´ï¼Œä½†ä¸å‰ç«¯æ˜¯ç»“åˆçš„æ›´åŠ ç´§å¯†çš„ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ•°æ®-mock&quot;&gt;æ•°æ® Mock&lt;/h3&gt;

&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œé¡¹ç›®å¼€å‘å‰æœŸï¼Œåç«¯æ¥å£å®ç°çš„ä»»åŠ¡æœªå®Œæˆæ—¶ï¼Œå‰ç«¯å†™å¥½äº†é¡µé¢åªèƒ½ç­‰å¾…ã€‚æ­¤æ—¶ï¼Œå¦‚æœåç«¯æœ‰ç©ºå¯ä»¥é€ ä¸€äº›å‡æ•°æ®ï¼Œè®©å‰ç«¯å¯ä»¥ç»§ç»­å¼€å‘è°ƒè¯•ã€‚ä½†æˆ‘ä»¬é¼“åŠ±å‰ç«¯å·¥ç¨‹å¸ˆè‡ªå·± mock æ•°æ®ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ›´å¥½çš„äº†è§£ä¸šåŠ¡&lt;/li&gt;
  &lt;li&gt;åšä¸ºæ•°æ®æ¥å£çš„ç¬¬ä¸€çº§æ¶ˆè´¹è€…ï¼Œå‰ç«¯åº”è¯¥æ›´æ¸…æ¥šæ€æ ·çš„æ•°æ®ç»“æ„ï¼Œé€‚åˆé¡µé¢å±•ç¤ºã€‚æ¯”å¦‚æŸä¸ªå­—æ®µï¼Œç”¨æ•°ç»„å¥½ï¼Œè¿˜æ˜¯ç”¨å­—ç¬¦ä¸²æ‹¼æ¥å¥½ç­‰ç­‰&lt;/li&gt;
  &lt;li&gt;mock æ•ˆç‡æ›´é«˜ï¼Œå®ç°ç®€å•ï¼š&lt;a href=&quot;https://github.com/typicode/json-server&quot;&gt;json-server&lt;/a&gt;ï¼Œ&lt;a href=&quot;http://mockjs.com/&quot;&gt;mockjs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä½†ç›®å‰è¿™ä¸¤ç§ç®€å•çš„ mock å·¥å…·éƒ½ä¸æ˜¯å¤ªé€‚åˆå½“å‰å…¬å¸çš„é¡¹ç›®åœºæ™¯ï¼Œå› ä¸ºæˆ‘ä»¬å…¬å¸å¤§éƒ¨åˆ†æ¥å£éƒ½ä¸æ˜¯ restful çš„ï¼Œæ‰€ä»¥ç”¨ä¸‹æ¥é‡åˆ°ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;json-server åªæ”¯æŒ restfulï¼Œè€Œä¸”åªèƒ½ç”Ÿæˆ json æ–‡ä»¶ä¸å¤Ÿçµæ´»&lt;/li&gt;
  &lt;li&gt;mockjs æ˜¯æ¯”è¾ƒçµæ´»é«˜æ•ˆï¼Œä½†åšä¸åˆ°æ•°æ®çš„æŒä¹…åŒ–&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ¯”è¾ƒå®Œç¾çš„æ–¹æ¡ˆæ˜¯ä¸¤è€…ç»“åˆå†åŠ ä¸Šæ”¯æŒé restful çš„ mockï¼Œè¿™ä¸ªå¯èƒ½éœ€è¦ä»¥åè‡ªå·±å®šåˆ¶äº†ã€‚PS. æœ€è¿‘ github ä¸Šçœ‹åˆ°äº†ä¸€ä¸ªä»¥ service workers ä¸ºå‡ºå‘ç‚¹åˆ›é€ å‡ºæ¥çš„ä¸€ä¸ª mock æœåŠ¡ï¼š &lt;a href=&quot;https://github.com/service-mocker/service-mocker&quot;&gt;service-mocker&lt;/a&gt;ï¼Œä¸ç®¡æ˜¯å¦é€‚ç”¨ï¼Œè¦ä¸ºè¿™æ ·çš„æ€è·¯ç‚¹èµã€‚&lt;/p&gt;

&lt;h3 id=&quot;url-è·¯ç”±&quot;&gt;url è·¯ç”±&lt;/h3&gt;

&lt;p&gt;å‰ç«¯æ¥åˆ¶å®šè·¯ç”±ï¼Œä¹Ÿä¿ƒä½¿å‰ç«¯å·¥ç¨‹å¸ˆæ›´å…¨é¢æ·±å…¥åœ°äº†è§£ä¸šåŠ¡ã€‚è¿™å±äºè®¾è®¡èŒƒç•´ï¼Œéœ€è¦ç»éªŒåŠ æŒã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸ºå…·ä½“è·¯ç”±ä¸‹ï¼ŒåŸºæœ¬å°±æ˜¯ä¸šåŠ¡é€»è¾‘ controller äº†ï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;router&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;/:catalogId&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;catalogController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;paramSchema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;updateCatalog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;catalogController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;catalogController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿˜æœ‰ä¸€äº›ç®€å•çš„è·¯ç”±ï¼Œå°±æ˜¯è´Ÿè´£é¡µé¢æ¸²æŸ“è€Œå·²ï¼ˆç‰¹åˆ«æ˜¯å•é¡µåº”ç”¨ï¼ŒåŸºæœ¬ä¸Šèµ°å®¢æˆ·ç«¯è·¯ç”±çš„è·¯å­äº†ï¼‰ï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remoteAddress&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æœåŠ¡ç«¯æ¨¡æ¿æ¸²æŸ“&quot;&gt;æœåŠ¡ç«¯æ¨¡æ¿æ¸²æŸ“&lt;/h3&gt;

&lt;p&gt;å¯¹äºå•é¡µåº”ç”¨æ¥è¯´ï¼ŒæœåŠ¡ç«¯æ¨¡æ¿åªæ˜¯ä¸€ä¸ªå£³(shell)è€Œå·²ï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;lang=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Single Page Application&lt;span class=&quot;nt&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;serverData&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;æ¥è‡ªæœåŠ¡ç«¯æ•°æ®&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;app&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;//cdn/file-5917b08e4c7569d461b1.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬çœ‹åˆ°è¿™é‡Œåªé€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;window.serverData&lt;/code&gt; æä¾›äº†ç®€å•çš„æœåŠ¡ç«¯æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äºå¤šé¡µåº”ç”¨æ¥è¯´ï¼Œæˆ‘ä»¬ä¼šå¼•å…¥ layout, include ç­‰æ¨¡æ¿æ–¹æ¡ˆæå–å…¬å…±éƒ¨åˆ†é¡µé¢ä»¥è¾¾åˆ°æœ€å¤§å¤ç”¨ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./views
â”œâ”€â”€ layout
â”‚Â Â  â”œâ”€â”€ default.jade
â”‚Â Â  â”œâ”€â”€ bootstrap.jade
â”‚Â Â  â””â”€â”€ ...
â”œâ”€â”€ include
â”‚Â Â  â”œâ”€â”€ topnav.jade
â”‚Â Â  â”œâ”€â”€ header.jade
â”‚Â Â  â”œâ”€â”€ footer.jade
â”‚Â Â  â””â”€â”€ ...
â”œâ”€â”€ templates
â”‚Â Â  â””â”€â”€ ...
â””â”€â”€ index.jade
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šæ–‡å·²æåˆ°è¿‡ Node æ¥åšæœåŠ¡ç«¯æ¨¡æ¿æ¸²æŸ“çš„æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯æ–¹ä¾¿ä¸é™æ€èµ„æºè¡”æ¥ï¼Œæ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿé¦–å…ˆ web åº”ç”¨ç»è¿‡å‰ç«¯æ„å»ºå·¥å…· build ä¹‹åä¼šç”Ÿæˆé™æ€èµ„æºæ˜ å°„è¡¨ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;asset-manifest.json&lt;/code&gt;ï¼Œä¸²è”èµ·æ¥å¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;main.css&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;static/css/main.ad87bbd6.css&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;main.css.map&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;static/css/main.ad87bbd6.css.map&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;main.js&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;static/js/main.a3907cec.js&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;main.js.map&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;static/js/main.a3907cec.js.map&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;static/media/yay.jpg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;static/media/yay.44dd3333.jpg&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;manifest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;./asset-manifest.json&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;locals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assets&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;mainCss&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;manifest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;main.css&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;mainJs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;manifest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;main.js&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;lang=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Single Page Application&lt;span class=&quot;nt&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;%= assets.mainCss %&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;serverData&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;æ¥è‡ªæœåŠ¡ç«¯æ•°æ®&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;app&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;%= assets.mainJs %&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;web-åº”ç”¨å¼€å‘å±‚&quot;&gt;Web åº”ç”¨å¼€å‘å±‚&lt;/h2&gt;

&lt;p&gt;è¿™ä¸€éƒ¨åˆ†åº”è¯¥æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆçš„ä¸“é•¿éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯å…¶æ ¸å¿ƒä»·å€¼çš„ä½“ç°ä¹‹å¤„ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç»„ä»¶åŒ–å’Œå·¥ç¨‹åŒ–&quot;&gt;ç»„ä»¶åŒ–å’Œå·¥ç¨‹åŒ–&lt;/h3&gt;

&lt;p&gt;web åº”ç”¨å¼€å‘ä¸»è¦åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼šhtmlï¼Œcss å’Œ jsï¼Œä¸‰è€…ä¹‹ä¸­ï¼Œé™¤äº† js åœ¨è¿‘å‡ å¹´æ‰æ‹¥æœ‰äº†æ¨¡å—åŒ–æœºåˆ¶ä»¥å¤–ï¼Œhtml å’Œ css éƒ½æ˜¯éœ€è¦æ‰‹å·¥ç»´æŠ¤ï¼ˆéš¾ä»¥ç»´æŠ¤ï¼‰ï¼Œä¼´éšç€å¤åˆ¶ç²˜è´´ï¼Œæ—¶é—´ä¸€ä¹…å…¶äº§ç”Ÿçš„ä»£ç å†—ä½™å°±åƒæ˜¯ windows ä¸Šçš„ C ç›˜ç©ºé—´ä¸€æ ·ï¼Œä¸æ–­å‘èƒ–ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ç°ä»£çš„ web åº”ç”¨æœ‰è¿™æ ·çš„å¼€å‘æ„è¯†ï¼ševerything in js is the better way. æ­£æ˜¯ js çš„æ¨¡å—åŒ–çš„å¯èƒ½æ€§ï¼Œæˆä¸ºäº† web åŠŸèƒ½æ¨¡å—ï¼ˆåŒ…å«ç•Œé¢ä¸äº¤äº’ï¼‰çš„ç»„ä»¶åŒ–å®ç°çš„åŸºçŸ³ã€‚å¯ä»¥å°† html å’Œ css å†™åœ¨ js ä¹‹ä¸­ï¼ˆJSXï¼‰ï¼Œä¹Ÿå¯ä»¥ä»¥æ¨¡æ¿çš„å½¢å¼å®ƒä»¬ä¸‰è€…å†™ä¸€èµ·ï¼ˆVueï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;JSX å†™æ³•ï¼š&lt;/p&gt;

&lt;div class=&quot;language-jsx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;React&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PropTypes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;react&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Profile&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;../components/Profile&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;styles&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;./Preview.css&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Preview&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;className=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;styles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;card&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;alt=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;className=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;styles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;normal&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Profile&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;user=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;Preview&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;propTypes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PropTypes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PropTypes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Preview&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Vue çš„å•æ–‡ä»¶å½¢å¼ï¼š&lt;/p&gt;

&lt;div class=&quot;language-vue highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;card&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;img&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;:src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;url&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;alt=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;normal&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;Profile&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;:user=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;card&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.card&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10px&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;15px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1px&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;solid&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;#333&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.normal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;#666&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ— è®ºå“ªç§å½¢å¼ï¼Œç»„ä»¶éƒ½ä¸èƒ½ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼ˆå°†æ¥çš„ Web Components å¯ä»¥ï¼Œä½†å¯æ„å»ºçš„ç»„ä»¶ç»å¯¹æ˜¯æ›´åŠ æœ‰ä¼˜åŠ¿ï¼‰ã€‚å¦‚æœæˆ‘ä»¬å°†æµè§ˆå™¨çœ‹ä½œæ˜¯ web åº”ç”¨çš„ runtime ç¯å¢ƒï¼Œå¯¹æ¯”äº jvm æ˜¯ java çš„ runtimeï¼Œé‚£å‰ç«¯çš„ç»„ä»¶ä»£ç éƒ½æ˜¯ java çº§åˆ«çš„æºç ï¼Œè¦ç±»ä¼¼ java é‚£æ ·é€šè¿‡ç¼–è¯‘æ‰“åŒ…æˆ war æ–¹å¯ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_7dkdhib588ke63cc76djac4h0c60h_1280x525.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œä¸ºæå‡å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ç›´æ¥å†™æµè§ˆå™¨å¯è¯»çš„ html, css å’Œ jsï¼Œè€Œæ˜¯é€šè¿‡å¯æ¨¡å—åŒ–çš„â€œé«˜çº§ç‰ˆâ€ jsï¼Œå°†ä¸€åˆ‡èµ„æºè¿›è¡Œä¸²è”ï¼Œå½¢æˆä¸€ç³»åˆ—ä¸šåŠ¡æˆ–éä¸šåŠ¡ç»„ä»¶ï¼Œå®ƒä»¬é€šè¿‡å€šèµ–æ³¨å…¥ä¸æ¨¡å—è¾“å‡ºã€é€šè¿‡ç¼–è¯‘è½¬æ¢ã€é€šè¿‡åˆå¹¶æˆ–é‡ç»„ï¼Œæœ€ç»ˆç”Ÿæˆæµè§ˆå™¨å¯è§£æçš„ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚ä½•æ›´å¥½çš„â€œä¸²è”â€ï¼Œè¿™äº›éƒ½æ˜¯å·¥ç¨‹é—®é¢˜ï¼Œä¹Ÿæ˜¯åšä¸ºç°ä»£å‰ç«¯å·¥ç¨‹å¸ˆçš„å¿…å¤‡ç´ è´¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;mdv&quot;&gt;MDV&lt;/h3&gt;

&lt;p&gt;MDV = &lt;strong&gt;æ¨¡å‹é©±åŠ¨è§†å›¾&lt;/strong&gt;ã€‚ä» 2010 Google æ¨å‡º Angular å¼€å§‹ï¼Œåˆ° 2013 å¹´ Facebook æ¨å‡º Reactï¼Œå†åˆ°æœ€è¿‘å›½äººè‡ªåˆ›çš„å°è€Œç¾çš„ Vueï¼Œéƒ½ä¸€è·¯è´¯ç©¿ç€ web å¼€å‘æ–°çš„æ€è·¯ï¼šä»&lt;strong&gt;æ‰‹åŠ¨æ“ä½œ DOM&lt;/strong&gt; åˆ°&lt;strong&gt;æ•°æ®ç»‘å®š + Virtual DOM&lt;/strong&gt; çš„è½¬å˜ã€‚è¿™ä¹Ÿæ˜¯ everything in js æè‡´ä½“ç°ï¼šæŠŠ DOM æ“ä½œéƒ½å¹²æ‰äº†ï¼Œç›´æ¥ç”¨åŸºäº js plain object çš„è™šæ‹Ÿ DOMï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;React&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;https://github.com/facebook/react&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;React&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;React é¦–åˆ›çš„è™šæ‹Ÿ DOM æœ‰ä¸¤å¤§æ€æ‰‹é”å¤§å¤§æå‡äº†åŸç”Ÿ DOM æ“ä½œæ•ˆç‡ä½ä¸‹çš„é—®é¢˜ï¼ˆç‰¹åˆ«æ˜¯åœ¨ç§»åŠ¨ç«¯ï¼‰ï¼šbatching å’Œ diffã€‚batching æŠŠæ‰€æœ‰çš„ DOM æ“ä½œæœé›†èµ·æ¥ï¼Œä¸€æ¬¡æ€§æäº¤ç»™çœŸå®çš„ DOMï¼›diff ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¹Ÿä»æ ‡å‡†çš„ diff ç®—æ³•çš„ O(n^3 ) é™åˆ°äº† O(n)&lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;p&gt;é™¤äº†æ€§èƒ½æå‡ä¹‹å¤–ï¼Œç”±äºæ€è·¯çš„è½¬å˜ï¼Œåœ¨å¼€å‘æ•ˆç‡ä¸Šä¹Ÿæœ‰å¾ˆå¤§æå‡ï¼šMDV æ¨¡å¼ä¸‹å¾ˆè‡ªç„¶çš„å°±å°† web é¡µé¢çœ‹åšæ˜¯ä¸€å°çŠ¶æ€æœºï¼ˆState Machineï¼‰ï¼Œ&lt;strong&gt;UI = f(state)&lt;/strong&gt;ï¼Œ ç•Œé¢ä¸Šçš„å˜åŒ–çš†ç”±çŠ¶æ€å˜åŒ–æ‰€å¯¼è‡´ï¼ŒçŠ¶æ€çš„å˜åŒ–æ¥æºä¸€å®šä¸º Mï¼Œå³æ•°æ®æ¨¡å‹ã€‚æˆ‘ä»¬å°†æ‰‹åŠ¨æ“ä½œ DOM çš„å·¥ä½œäº¤ç»™ MVVM æ¡†æ¶çš„æ•°æ®ç»‘å®šæ¥åšï¼Œç•Œé¢çš„æ”¹å˜ç”±æ•°æ®çš„å˜åŒ–è€Œè‡ªåŠ¨å®Œæˆï¼Œä¸ä»…ååˆ†é«˜æ•ˆï¼Œè€Œä¸”æˆ‘ä»¬å¯¹äºæ•°æ®çš„æµå‘æ›´åŠ æ¸…æ™°å¯æ§ã€‚åœ¨å¼•å…¥ä¸¥æ ¼çš„å‡½æ•°å¼ç¼–ç¨‹ä¸ä¸å¯å˜æ•°æ®ï¼ˆimmutable.jsï¼‰åï¼Œè¿˜èƒ½ä½¿å¾—ç»“æœå¯é¢„æµ‹ï¼Œæ–¹ä¾¿åšå•å…ƒæµ‹è¯•ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œé™¤äº†è®¸å¤šæ–°çš„æ¦‚å¿µéœ€è¦å­¦ä¹ ä¹‹å¤–ï¼Œç»„ä»¶é—´å¦‚ä½•é€šä¿¡ï¼Œå¼‚æ­¥æ•°æ®å¦‚ä½•ç®¡ç†ç­‰ä¸€ç³»åˆ—é—®é¢˜ä¹Ÿæ˜¯éšä¹‹è€Œæ¥çš„ä¸€äº›æŒ‘æˆ˜ã€‚&lt;/p&gt;

&lt;h3 id=&quot;è½®å­&quot;&gt;è½®å­&lt;/h3&gt;

&lt;p&gt;è¿™é‡Œçš„è½®å­å°±æ˜¯æŒ‡ç»„ä»¶ã€‚å¿…é¡»è¦æ ¹æ®å…¬å¸çš„ä¸šåŠ¡ç‰¹ç‚¹æ‰“é€ å‰ç«¯ç»„ä»¶åº“ï¼Œè¿™é‡Œçš„æŒ‡çš„ç»„ä»¶ï¼Œå¯ä»¥æ˜¯æ— å…³ä¸šåŠ¡çš„ç•Œé¢ç»„ä»¶ï¼Œä¹Ÿå¯èƒ½æ˜¯åŠŸèƒ½æ¨¡å—ï¼Œæˆ–è€…ä¸¤è€…çš†æœ‰ã€‚å…¶ç›®çš„å°±æ˜¯ä¸ºäº†æ–¹ä¾¿å¤ç”¨ï¼Œä¾¿äºç®¡ç†ã€‚æ¶‰åŠå…¬å¸ä¸šåŠ¡çš„æˆ‘ä»¬å®šä¹‰ä¸º private componentsï¼Œä¸æ¶‰åŠä¸šåŠ¡çš„æˆ‘ä»¬å¦‚æœåšçš„ä¼˜ç§€ä¹Ÿå¯ä»¥å¼€æºï¼Œå¼€æºæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿå¤§å®¶éƒ½æ‡‚çš„ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–æˆ‘ä»¬ä¹Ÿæ‹¥æŠ±ä¸šç•Œä¼˜ç§€çš„å¼€æºæ–¹æ¡ˆï¼Œæ¯”å¦‚èš‚èšé‡‘æœçš„ ant-designï¼Œè°·æ­Œçš„ Material-UI ç­‰ï¼Œåœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æ›´é«˜æ•ˆæ›´å¿«é€Ÿåœ°å¼€å‘æˆ‘ä»¬çš„é¡¹ç›®ï¼Œè¿­ä»£æˆ‘ä»¬çš„äº§å“ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å¤šç»ˆç«¯å’Œè·¨å¹³å°&quot;&gt;å¤šç»ˆç«¯å’Œè·¨å¹³å°&lt;/h3&gt;

&lt;p&gt;åœ¨è¿™é‡Œè¦ç¨å¾®å¼ºè°ƒä¸€ä¸‹æˆ‘ä»¬çš„ä¸»æˆ˜åœºä¹Ÿå°±æ˜¯æµè§ˆå™¨ï¼ˆå¯ä»¥çœ‹ä½œæ˜¯æˆ‘ä»¬å‰ç«¯ä»£ç çš„è¿è¡Œç¯å¢ƒï¼‰ã€‚å¯ä»¥æƒ³åƒçš„åˆ°ï¼Œjs è¿™ä¸ªåœ¨çŸ­çŸ­ 10 å¤©ä¹‹å†…åˆ›é€ å‡ºæ¥çš„è§£é‡Šæ€§è¯­è¨€ä¹‹æ‰€ä»¥èƒ½å¤Ÿå¦‚æ­¤æµè¡Œè€Œä¸”ç»ä¹…ä¸è¡°ï¼Œå®Œå…¨æ˜¯æ‰˜äº†æµè§ˆå™¨è¿™ä¸ªå…¨çƒæ•°é‡æœ€åºå¤§åˆ†éƒ¨æœ€å¹¿çš„å¤©ç„¶ js è§£æå™¨çš„ç¦ã€‚å®ƒéå¸ƒä¸–ç•Œä¸Šçš„æ¯ä¸€ä¸ªè§’è½ï¼Œä½ ä¸å¾—ä¸ç”¨ã€‚æ‰€ä»¥äº†è§£è¯­è¨€å®¿ä¸»ï¼Œå½“ç„¶ä¹Ÿæ˜¯è‡³å…³é‡è¦çš„ã€‚&lt;/p&gt;

&lt;p&gt;æ ¹æ®æµè§ˆå™¨å†…æ ¸æ¥åˆ†ï¼Œå‰ç«¯åº”è¯¥å…³æ³¨çš„æµè§ˆå™¨ç¯å¢ƒåº”è¯¥åŒ…æ‹¬ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ç§»åŠ¨ç«¯ï¼š
    &lt;ul&gt;
      &lt;li&gt;å¾®ä¿¡ X5 å†…æ ¸&lt;/li&gt;
      &lt;li&gt;Android: Webview&lt;/li&gt;
      &lt;li&gt;iOS: WK, UIWebview&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;PC ç«¯ï¼š
    &lt;ul&gt;
      &lt;li&gt;Tridentï¼ˆIEï¼‰&lt;/li&gt;
      &lt;li&gt;Webkitï¼ˆSafariï¼‰ï¼ŒBlinkï¼ˆChromeï¼‰&lt;/li&gt;
      &lt;li&gt;Geckoï¼ˆFireFoxï¼Œå·²æ”¾å¼ƒï¼‰&lt;/li&gt;
      &lt;li&gt;Prestoï¼ˆOperaï¼Œå·²æ”¾å¼ƒï¼‰&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯ä»¥çœ‹å‡ºæ¥ï¼Œæœ€ä¸»è¦çš„æˆ˜åœºï¼Œæ˜¯ Webkitï¼ˆç§»åŠ¨ç«¯ä¸Šçš„ Webkit ä¸»è¦çœ‹ç³»ç»Ÿ SDKï¼‰ã€‚åœ¨å›½å†…æ¥è¯´ï¼Œç”±äºå¾®ä¿¡çš„å…³ç³»ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ¯”è¾ƒå…³æ³¨çš„æ˜¯ X5ï¼ˆç‰¹åˆ«æ˜¯è¿‘æœŸçš„å¾®ä¿¡å°ç¨‹åºæ¨å‡ºï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;æ ¹æ®å¹³å°æ¥åˆ†ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ç§»åŠ¨ç«¯ï¼šCordovaï¼ŒReact Nativeï¼ŒWeex&lt;/li&gt;
  &lt;li&gt;æ¡Œé¢ç«¯ï¼šnode-webkitï¼ˆNW.jsï¼‰, Electron&lt;/li&gt;
  &lt;li&gt;ç©¿æˆ´è®¾å¤‡ï¼šWebVR&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…³äºç»ˆç«¯é€‚é…å’Œè·¨å¹³å°çš„æŒ‘æˆ˜ï¼Œå‰è€…åœ¨äºä¸€äº›å…¼å®¹æ€§çš„é—®é¢˜ï¼Œè¿™ä¸ªæ ¹æ®ä¹‹å‰çš„å·¥ç¨‹åŒ–çš„æ–¹æ¡ˆï¼Œå°† html, css, js è§†ä½œâ€œç¼–è¯‘â€èµ„æºï¼Œåœ¨é€šè¿‡â€œç¼–è¯‘å·¥å…·â€æ„å»ºåï¼Œè®©å·¥å…·è‡ªåŠ¨åœ°æ ¹æ®ä¸åŒå†…æ ¸ç”Ÿæˆç›¸åº”çš„é€‚é…ä»£ç ï¼Œé™ä½å¼€å‘æˆæœ¬ã€‚åè€…å¯¹å‰ç«¯å·¥ç¨‹å¸ˆçš„è¦æ±‚è¾ƒé«˜ï¼Œéœ€è¦å¤åˆæ€§çš„çŸ¥è¯†å’Œèƒ½åŠ›ï¼Œä½†å¸¦æ¥çš„æ”¶ç›Šå·¨å¤§ã€‚å€¼å¾—ä¸€æçš„æ˜¯ React çš„ç›®æ ‡å®—æ—¨å°±æ˜¯ï¼šwrite  onceï¼Œrun everywhereï¼Œå®ƒä¹Ÿæ­£æœç€è¿™ä¸ªæ–¹å‘åœ¨ä¸æ–­å‰è¿›ã€‚&lt;/p&gt;

&lt;p&gt;æ€»ä½“æ¥è¯´ï¼ŒWeb åº”ç”¨çš„å¼€å‘ä¸»è¦æŠ€æœ¯ç‰¹ç‚¹å°±æ˜¯ï¼ˆç›—äº†&lt;a href=&quot;https://zhuanlan.zhihu.com/wxyyxc1992&quot;&gt;æŸç†Šçš„å…¨æ ˆä¹‹è·¯&lt;/a&gt;çš„å›¾ï¼Œå“ˆå“ˆï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_4l52ah044bfj23b251494f3l781kk_715x225.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;å‰ç«¯è¿ç»´å±‚&quot;&gt;å‰ç«¯è¿ç»´å±‚&lt;/h2&gt;

&lt;h3 id=&quot;æµ‹è¯•&quot;&gt;æµ‹è¯•&lt;/h3&gt;

&lt;p&gt;åœ¨ä»£ç  build ä¹‹å‰æœ‰ä¸¤éƒ¨æ“ä½œè¦åšï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ä»£ç å±‚é¢çš„ Lint&lt;/li&gt;
  &lt;li&gt;åŠŸèƒ½å±‚é¢çš„ Unit Test&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Lint æ˜¯æ ¹æ®ä»£ç è§„èŒƒçš„è§„åˆ™æ¥åˆ¶å®šçš„ï¼Œä¸åŒçš„åœºæ™¯æœ‰ä¸åŒçš„è§„åˆ™ã€‚æ¯”å¦‚æ˜¯ node ç¯å¢ƒè¿˜æ˜¯æµè§ˆå™¨ç¯å¢ƒï¼Œé‡‡ç”¨çš„æ¨¡å—åŒ–æœºåˆ¶æ˜¯ commonjs è¿˜æ˜¯ amd ç­‰ï¼Œéƒ½è¦åˆ†åˆ«é…ç½®ã€‚è¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†ä¿éšœä»£ç æ²¡æœ‰æ˜æ˜¾çš„é”™è¯¯å’Œæ‹¥æœ‰ä¸€è‡´çš„é£æ ¼ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_4cf4a069e83j8g73l7hhi4bg24c20_1120x586.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Unit Test åœ¨ä»¥å¾€åªé‡ç•Œé¢ä¸é‡äº¤äº’ï¼ˆé¡µé¢çŠ¶æ€ç®¡ç†ï¼‰çš„ä¼ ç»Ÿ web é¡¹ç›®ä¸‹å¹¶ä¸å¸¸è§ï¼Œä½†åœ¨ä¸€äº›ç¨å¾®æœ‰ç‚¹å¤æ‚ç¨‹åº¦çš„å‰ç«¯é¡¹ç›®ä¸­ï¼Œå•å…ƒæµ‹è¯•å°±æ˜¾å¾—æ¯”è¾ƒé‡è¦äº†ã€‚æˆ‘ä¹‹å‰çš„å…¬å¸å¯¹é¡¹ç›®å¼€å‘çš„é€Ÿåº¦è¦æ±‚æ¯”è¾ƒé«˜ï¼Œæ‰€ä»¥è¿™ä¸€å—æ¯”è¾ƒå°‘åšã€‚ä¸è¿‡ç›®å‰ä¸€äº›ä¸»æµçš„å‰ç«¯æ¡†æ¶éƒ½é™„å¸¦æµ‹è¯•åº“ä¸ç®€å•ä¾‹å­ï¼Œæ¯”å¦‚ &lt;a href=&quot;https://github.com/facebookincubator/create-react-app&quot;&gt;create-react-app&lt;/a&gt; å°±è‡ªå¸¦äº† &lt;a href=&quot;https://github.com/facebook/jest&quot;&gt;jest&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;cicd&quot;&gt;CI/CD&lt;/h3&gt;

&lt;p&gt;å‰ç«¯çš„å¸ƒç½²ä¸»è¦åˆ†é™æ€å’ŒåŠ¨æ€ä¸¤éƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;é™æ€ä¸»è¦æ˜¯æŒ‡ä¸€äº›é™æ€èµ„æºï¼Œå¸ƒç½²ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯å¾€ CDN æœåŠ¡å™¨ä¸Šæ”¾å³å¯&lt;/li&gt;
  &lt;li&gt;åŠ¨æ€å°±æ˜¯ Node æœåŠ¡å±‚çš„ä¸œè¥¿ï¼Œå…³äº Node App çš„å¸ƒç½²ï¼Œå¯å‚è€ƒæˆ‘ä¹‹å‰å†™çš„&lt;a href=&quot;/2016/node-app-deploy-simple-guide&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è‡³äºå¦‚ä½•åšåˆ°è‡ªåŠ¨åŒ–ä»¥æå‡æ•ˆç‡ï¼Œä¸»è¦åˆ©ç”¨ git hooks é€šçŸ¥åˆ° CI æœåŠ¡å™¨ï¼Œæ‰§è¡Œå¯¹åº”çš„è„šæœ¬æ¥å®ç°ã€‚è¿™é‡Œæœ‰è®¸å¤šæ–¹æ¡ˆå¯ä¾›é€‰æ‹©ã€‚ç”±äºæˆ‘åœ¨å…¬å¸ä¸€ç›´ç”¨çš„æ˜¯ gitlabï¼Œæ‰€ä»¥ä¹‹å‰åªå°è¯•è¿‡ &lt;a href=&quot;https://about.gitlab.com/gitlab-ci/&quot;&gt;gitlab-ci&lt;/a&gt;ï¼Œå®ƒèƒ½ä¸ Docker ç›¸ç»“åˆï¼Œç”¨èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒçˆ½çš„ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å®ƒæ¯”è¾ƒå¸¸è§çš„å¦‚ Jenkins, Travis CI ç­‰ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ‰©å±•ä¸ç¨³å®šæ€§&quot;&gt;æ‰©å±•ä¸ç¨³å®šæ€§&lt;/h3&gt;

&lt;p&gt;é‡åˆ°ç¨‹åº crash æ€ä¹ˆåŠï¼Ÿç°åœ¨ Node ä¸Šå·²ç»æœ‰éå¸¸å¤šçš„è¿›ç¨‹é‡å¯æ¨¡å—ï¼Œæ¯”å¦‚ pm2ï¼Œforever ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†æ›´å¥½çš„åˆ©ç”¨ CPU å†…æ ¸èµ„æºï¼Œæˆ‘ä»¬è¿˜æœ‰åœ¨å•å°æœåŠ¡å™¨ä¸Šå¯ç”¨å¤šä¸ªåº”ç”¨å®ä¾‹ã€‚å¤§å®¶çŸ¥é“ï¼Œnginx æˆ– haproxy ç­‰é›†ç¾¤éƒ½æ˜¯ä¸€ä¸»å¤šä»ï¼Œä¸»æœºçš„ç«¯å£é€šè¿‡è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œå°†è¯·æ±‚è½¬å‘åˆ° slave æœºå™¨ä¸Šã€‚ä»¥ä¸Šè¯´çš„æ˜¯å¤šå°æœºå™¨çš„æƒ…å½¢ï¼Œé‚£åœ¨ä¸€å°æœºå™¨ä¸Šèµ·å¤šä¸ªå®ä¾‹ï¼Œå¯¹è¿™äº›å®ä¾‹è¿›è¡Œé›†ç¾¤ç®¡ç†ä¹Ÿæ˜¯ä¸€æ ·çš„åŸç†ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œä»¥ pm2 ä¸ºä¾‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_7e13icblef0241jj9d2i0ki5bel5e_1280x442.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶åæˆ‘ä»¬æ‰‹åŠ¨åˆ¶é€ ä¸€ä¸ªå´©æºƒï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªçº¿ç¨‹ï¼Œrestartæ˜¾ç¤ºä¸º1ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å´©æºƒçš„æ—¶å€™å®ƒä¼šè‡ªåŠ¨åˆ›å»ºæ–°çš„çº¿ç¨‹æ¥ç»§ç»­æœåŠ¡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://s10.mogucdn.com/mlcdn/c45406/191209_8g908a83kb22ak55j85il60db6g2f_1280x578.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;æ€§èƒ½æ—¥å¿—ç›‘æ§&quot;&gt;æ€§èƒ½æ—¥å¿—ç›‘æ§&lt;/h3&gt;

&lt;p&gt;ç›‘æ§å¯å¤§å¯å°ï¼Œå¾€å°äº†è¯´ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå¾€å¤§äº†è®²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€å¥—ç³»ç»Ÿï¼Œä¸ä»…ä»…å¯ä»¥æœ‰å¯è§†åŒ–çš„å›¾è¡¨ï¼Œè¿˜æ”¯æŒä¸€ç³»åˆ—çš„æŠ¥è­¦è§„åˆ™ã€‚å¦‚æœå…¬å¸çš„äººåŠ›æœ‰é™ï¼Œä¼°è®¡æŠ•å…¥äº§å‡ºæ¯”ä¸é«˜çš„ï¼ŒåˆæœŸå¯ä»¥è€ƒè™‘ä¸€äº›ä¼˜ç§€çš„åœ¨çº¿æœåŠ¡ï¼Œæ¯”å¦‚ï¼škeymetrics.io, Sentry.io ç­‰ï¼Œè¿™äº›æœåŠ¡åŠŸèƒ½å¼ºå¤§åŸºæœ¬æ¶µç›–æ‰€æœ‰éœ€æ±‚ï¼Œè€Œä¸”æ˜“äºé›†æˆã€‚å½“ç„¶ï¼Œå¥½ç”¨çš„åŸºæœ¬ä¸Šéƒ½æ˜¯éœ€è¦ä»˜è´¹çš„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å†™åœ¨æœ€å&quot;&gt;å†™åœ¨æœ€å&lt;/h2&gt;

&lt;p&gt;æ–‡ä¸­æ²¡æœ‰æåˆ°çš„ Private NPM å’Œ Private Docker Registry æˆ‘ç”¨è™šçº¿æ¡†èµ·æ¥ï¼Œæ˜¯å°±ç›®å‰æ¥çœ‹å¾ˆéš¾åšåˆ°ï¼Œå› ä¸ºæˆ‘ä»¬çš„ä»£ç åº“æ˜¯å†…ç½‘çš„ï¼Œè€Œä¸”å…¬å¸ç›®å‰æ˜¯é˜¿é‡Œäº‘çš„é‡åº¦ä½¿ç”¨è€…ï¼ŒDocker è¦å¦‚è¦æŠ•å…¥ä½¿ç”¨ï¼Œè¦æ˜¯æ²¡æœ‰è‡ªèº«çš„ IAAS åŸºç¡€è®¾æ–½åšæ”¯æŒä¼°è®¡ä¹Ÿæ˜¯ç©ä¸è½¬ã€‚å½“ç„¶ï¼Œè¿™äº›éƒ½æ˜¯æ²¡å‡ ä¸ªå°å…¬å¸èƒ½ç©è½¬çš„ï¼Œæœ‰æœºä¼šå°±å°è¯•ï¼Œä½†åšä¸ºæŠ€æœ¯äººï¼Œé¦–è¦ä»»åŠ¡è¿˜æ˜¯æ–¹æ¡ˆè½åœ°å’Œè§£å†³å®é™…çš„ä¸šåŠ¡é—®é¢˜ã€‚&lt;/p&gt;
&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;React åªä¼šé€å±‚å¯¹æ¯”ä¸¤é¢—éšæœºæ ‘ï¼Œè¿™å¤§å¤§é™ä½äº† diff ç®—æ³•çš„å¤æ‚åº¦ã€‚å¹¶ä¸”åœ¨ web ç»„ä»¶ä¸­å¾ˆå°‘ä¼šå°†èŠ‚ç‚¹ç§»åŠ¨åˆ°ä¸åŒçš„å±‚çº§ï¼Œç»å¸¸åªä¼šåœ¨åŒä¸€å±‚çº§ä¸­ç§»åŠ¨ã€‚Â &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><category term="node" /><category term="engineering" /><summary type="html">ä½•è°“å‰ç«¯å·¥ç¨‹åŒ–ï¼Ÿå³æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹ï¼Œå°†å‰ç«¯å¼€å‘æµç¨‹è§„èŒƒåŒ–ã€æ ‡å‡†åŒ–ã€‚å®ƒä¸»è¦åŒ…å«ä¸åŒä¸šåŠ¡åœºæ™¯çš„æŠ€æœ¯é€‰å‹ã€ä»£ç è§„èŒƒã€æ„å»ºå‘å¸ƒæ–¹æ¡ˆç­‰ã€‚ä¸»è¦ç›®åœ°æ˜¯ä¸ºäº†æå‡å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆçš„å¼€å‘æ•ˆç‡ä¸ä»£ç è´¨é‡ï¼Œé™ä½å‰åç«¯è”è°ƒçš„æ²Ÿé€šæˆæœ¬ï¼Œä½¿å¾—å‰åç«¯å·¥ç¨‹å¸ˆæ›´åŠ ä¸“æ³¨äºè‡ªèº«æ“…é•¿é¢†åŸŸã€‚</summary></entry><entry><title type="html">Node APP å¸ƒç½²ç®€æ˜“æ•™ç¨‹</title><link href="https://roshanca.com/2016/node-app-deploy-simple-guide/" rel="alternate" type="text/html" title="Node APP å¸ƒç½²ç®€æ˜“æ•™ç¨‹" /><published>2016-11-30T00:00:00+00:00</published><updated>2016-11-30T00:00:00+00:00</updated><id>https://roshanca.com/2016/node-app-deploy-simple-guide</id><content type="html" xml:base="https://roshanca.com/2016/node-app-deploy-simple-guide/">&lt;h2 id=&quot;ç¯å¢ƒ-system&quot;&gt;ç¯å¢ƒ (System)ï¼š&lt;/h2&gt;
&lt;p&gt;CentOS 7&lt;/p&gt;

&lt;h2 id=&quot;å‡†å¤‡-requirement&quot;&gt;å‡†å¤‡ (Requirement)&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;git&lt;/strong&gt;: åˆ†å¸ƒå¼ä»£ç ç‰ˆæœ¬ç®¡ç†å·¥å…·&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;node&lt;/strong&gt;: åŸºäº Chrome V8 å¼•æ“çš„ JavaScript æœåŠ¡ç«¯è¿è¡Œç¯å¢ƒ&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;npm&lt;/strong&gt;: node çš„å€šèµ–åŒ…ç®¡ç†å™¨&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;pm2&lt;/strong&gt;: node åº”ç”¨è¿›ç¨‹ç®¡ç†å™¨&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å®‰è£…-install&quot;&gt;å®‰è£… (Install)&lt;/h2&gt;

&lt;p&gt;ä¸€èˆ¬åœ¨ Linux ç³»ç»Ÿä¸­å®‰è£…ç¨‹åºæœ‰ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ä¸‹è½½æºç ï¼Œæ‰‹åŠ¨ç¼–è¯‘&lt;/li&gt;
  &lt;li&gt;ç›´æ¥ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶&lt;/li&gt;
  &lt;li&gt;ç”¨ yum å®‰è£…&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è¿™é‡Œæ¨èç”¨ç¬¬äºŒç§ã€‚&lt;/p&gt;

&lt;h3 id=&quot;install-git&quot;&gt;Install git&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;å®‰è£…å€šèµ–ï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; yum install -y curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å‰å¾€ &lt;a href=&quot;https://github.com/git/git/releases&quot;&gt;github&lt;/a&gt; ä¸‹è½½å®‰è£…åŒ…ï¼Œæ‹·è´è‡³ &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/src&lt;/code&gt;ï¼Œæˆ–è€…ç›´æ¥ç”¨ wgetï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; cd /usr/src
 yum install -y wget
 wget https://www.kernel.org/pub/software/scm/git/git-2.10.2.tar.gz
 tar xvzf git-2.10.2.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;make å®‰è£…ï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; make prefix=/usr/local all
 make prefix=/usr/local install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ£€æŸ¥ git æ˜¯å¦å®‰è£…æˆåŠŸï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; git --version
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;å®‰è£…-node-å’Œ-npm&quot;&gt;å®‰è£… node å’Œ npmï¼š&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;å‰å¾€ &lt;a href=&quot;https://nodejs.org/en/download/&quot;&gt;node official site&lt;/a&gt; ä¸‹è½½å¯¹åº”çš„ç¼–è¯‘å¥½çš„ Linux æºç ï¼Œæˆ–è€…ç›´æ¥ç”¨ wget ä¸‹è½½ï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; cd /usr/src
 wget https://nodejs.org/dist/v6.9.1/node-v6.9.1-linux-x64.tar.xz
 tar xvf node-v6.9.1-linux-x64.tar.xz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åˆ›å»ºè½¯é“¾æ¥è‡³ &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local/bin&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; ln -s /usr/src/node-v6.9.1-linux-x64/bin/node /usr/local/bin/node
 ln -s /usr/src/node-v6.9.1-linux-x64/bin/npm /usr/local/bin/npm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ£€æŸ¥ node ä¸ npm æ˜¯å¦ç”Ÿæ•ˆ&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; node -v
 npm -v
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ¥ä¸‹æ¥è¦é…ç½®ä¸€ä¸‹ npmï¼Œå°† npm çš„é»˜è®¤å…¨å±€å®‰è£…è·¯å¾„è‡ªå®šä¹‰åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;/$HOME/.node&lt;/code&gt;:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; npm config set prefix $HOME/.node
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ·»åŠ å›½å†… registry:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; npm config set registry https://registry.npm.taobao.org/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;é…ç½®ç³»ç»Ÿè·¯å¾„ï¼Œä½¿ npm å…¨å±€å®‰è£…çš„æ¨¡å—å‘½ä»¤è¡Œ bin ç”Ÿæ•ˆï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; echo &quot;export PATH=$PATH:$HOME/.node/bin&quot; &amp;gt;&amp;gt; ~/.bashrc
 source ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;å®‰è£…-pm2&quot;&gt;å®‰è£… pm2ï¼š&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;npm install -g pm2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å¸ƒç½²-deploy&quot;&gt;å¸ƒç½² (Deploy)&lt;/h2&gt;

&lt;p&gt;å¸ƒç½²åˆ†ä¸ºä¸ç”¨ git å’ŒåŸºäº git ä¸¤ç§æ–¹å¼ã€‚å‰è€…ä¸»è¦æ˜¯ç”¨äº git ä»£ç ç½‘ç»œå±äºå†…ç½‘çš„ç¯å¢ƒä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ç”¨ git çš„è¯ï¼Œä¸‹è½½å…¬å¸ gitlab é¡¹ç›®çš„ tag åŒ…ï¼Œæ‹·è´è‡³ç›®æ ‡ä¸»æœºã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ¨èä½¿ç”¨ git&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä¸ºäº†æ›´å¥½çš„ç‰ˆæœ¬ç®¡ç†ä¸æ›´è½»æ¾çš„è§£å†³ç‰ˆæœ¬å€šèµ–ï¼Œæ¨èä½¿ç”¨ gitã€‚&lt;/p&gt;

&lt;p&gt;git çš„ä¼ è¾“åè®®æœ‰ https å’Œ ssh ä¸¤ç§ï¼Œæˆ‘ä»¬é‡‡ç”¨æ›´åŠ å®‰å…¨å¿«é€Ÿçš„åè€…ã€‚æœåŠ¡å™¨åªéœ€ git çš„åªè¯»æƒé™ï¼Œå› æ­¤ä¸å¿…é…ç½® git userï¼Œåªéœ€ç”Ÿæˆ &lt;strong&gt;ssh key&lt;/strong&gt; åšä¸ºé¡¹ç›®çš„ deploy key&lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;p&gt;(ps. å…³äºå¦‚ä½•ç”Ÿæˆ ssh keyï¼Œ&lt;a href=&quot;http://git.cairenhui.com/gitlab/how-to-use/wikis/Generating-SSH-keys&quot;&gt;å¯å‚è§æ­¤&lt;/a&gt;ï¼Œè¿™é‡Œè¦è¾“å…¥çš„é‚®ç®±æ”¹ä¸ºæœåŠ¡å™¨åå³å¯)ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;æ¥ä¸‹æ¥ clone é¡¹ç›®ä»£ç è‡³æœåŠ¡å™¨ï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; git clone git@git.cairenhui.com:&amp;lt;GROUP&amp;gt;/&amp;lt;PROJECT&amp;gt;.git &amp;lt;NODE_APP_DIR&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;&lt;em&gt;æ³¨ï¼šå°–æ‹¬å·å†…çš„ä¸ºå˜é‡&lt;/em&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ£€å‡ºç‰ˆæœ¬&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; // æŸ¥çœ‹å½“å‰æ‰€æœ‰ç‰ˆæœ¬
 git tag

 // åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œè¿™é‡Œçš„ &amp;lt;TAG&amp;gt; æ˜¯æ¼”ç¤ºï¼Œæ¯”å¦‚å¯ä»¥æ˜¯ 1.0.0
 git checkout &amp;lt;TAG&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å®‰è£…å€šèµ–ï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; // å¦‚æœæ²¡ç”¨åˆ° bowerï¼Œè·³è¿‡æ­¤æ­¥éª¤
 bower install --allow-root

 // å®‰è£… node å€šèµ–åŒ…
 npm install --production
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;&lt;em&gt;æ³¨ï¼šä¸é‡‡ç”¨ git å¸ƒç½²çš„è¯ï¼Œåªéœ€æ‰§è¡Œæœ€åä¸€æ­¥&lt;/em&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è‡³æ­¤ï¼Œæ— è®ºæ˜¯å¦ä½¿ç”¨ gitï¼Œå¸ƒç½²éƒ½å·²å®Œæˆã€‚&lt;/p&gt;

&lt;h2 id=&quot;è¿è¡Œ-run&quot;&gt;è¿è¡Œ (Run)&lt;/h2&gt;

&lt;p&gt;åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œè¿è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;pm2 start pm2.json&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;pm2.json&lt;/code&gt; ä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt; å­—æ®µä¸º App nameï¼Œpm2 å¯ä»¥å…¨å±€åœ°æ“ä½œå®ƒï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;pm2 stop &amp;lt;APP_NAME&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;å¦å¤–æœ‰å‡ ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„å‘½ä»¤ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æŸ¥çœ‹æ‰€æœ‰çš„ node åº”ç”¨è¿›ç¨‹ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;pm2 list&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;æŸ¥çœ‹æŸä¸ªåº”ç”¨çš„å…·ä½“ä¿¡æ¯ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;pm2 show &amp;lt;APP_NAME&amp;gt;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;ç›‘æ§ CPU / Memory: &lt;code class=&quot;highlighter-rouge&quot;&gt;pm2 monit&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;æŸ¥çœ‹åº”ç”¨æ¶ˆæ¯æ—¥å¿—ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;pm2 logs &amp;lt;APP_NAME&amp;gt;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;é‡å¯åº”ç”¨ç¨‹åºï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;pm2 restart &amp;lt;APP_NAME&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ›´å¤šçš„å‘½ä»¤ç”¨æ³•è¯·æŸ¥çœ‹ï¼šhttps://github.com/Unitech/pm2#main-features&lt;/p&gt;

&lt;h2 id=&quot;æ›´æ–°æˆ–å›æ»š-updaterollback&quot;&gt;æ›´æ–°æˆ–å›æ»š (Update/Rollback)&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;ä¸ä½¿ç”¨ gitï¼šä¹‹å‰å·²æåˆ°è¿‡ï¼Œç›´æ¥åœ¨ gitlab ä¸Šä¸‹è½½ tag åŒ…ï¼Œè§£å‹ç¼©è¦†ç›–è‡³æœåŠ¡å™¨&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ä½¿ç”¨ gitï¼šå…ˆé€šè¿‡ git è·å–æ›´æ–°&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; git fetch origin --tags
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;å†åˆ‡æ¢ï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; git checkout &amp;lt;NEW_TAG&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;å›æ»šä¹Ÿéå¸¸ç®€å•ï¼š&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; git checkout &amp;lt;PREV_TAG&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;å¦‚æœç³»ç»Ÿæœ‰è‡ªå¸¦çš„ gitï¼Œå¯æ‰§è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;yum remove -y git&lt;/code&gt; åˆ é™¤Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;gitlab é¡¹ç›®å³ä¸Šè§’çš„èœå•ä¸­é€‰æ‹© â€œDeploy Keysâ€ï¼Œåœ¨æ­¤æ·»åŠ æœåŠ¡å™¨çš„å…¬é’¥ â€œid_rsa.pubâ€ ä¸­çš„å†…å®¹Â &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><category term="node" /><category term="centos" /><category term="engineering" /><summary type="html">ç¯å¢ƒ (System)ï¼š CentOS 7</summary></entry><entry><title type="html">åœ¨ CentOS 7 ä¸Šæ­å»º Docker ç§æœ‰ä»“åº“</title><link href="https://roshanca.com/2016/deploying-a-docker-registry-server/" rel="alternate" type="text/html" title="åœ¨ CentOS 7 ä¸Šæ­å»º Docker ç§æœ‰ä»“åº“" /><published>2016-07-24T00:00:00+00:00</published><updated>2016-07-24T00:00:00+00:00</updated><id>https://roshanca.com/2016/deploying-a-docker-registry-server</id><content type="html" xml:base="https://roshanca.com/2016/deploying-a-docker-registry-server/">&lt;p&gt;æˆ‘ä»¬çŸ¥é“ï¼Œæ‰§è¡Œ docker pull æŸé•œè±¡ï¼Œé»˜è®¤éƒ½æ˜¯ä» &lt;a href=&quot;https://hub.docker.com/&quot;&gt;Docker Hub&lt;/a&gt; çš„å…¬å…±ä»“åº“å»è·å–çš„ã€‚è¿™æœ‰ç‚¹åƒå…¨çƒæœ€å¤§çš„ä»£ç æ‰˜ç®¡å•†ï¼š&lt;a href=&quot;https://github.com/&quot;&gt;Github&lt;/a&gt;ã€‚ä½†å¯¹äºå…¬å¸ä¼ä¸šè€Œè¨€ï¼ŒMaybe æ›´åŠ éœ€è¦æ˜¯çš„è‡ªå»ºçš„ä»“åº“æœåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨è‡ªå»ºçš„ Gitlab ä»£æ›¿ Githubã€‚é‚£æœ‰ä»€ä¹ˆå¯ä»¥æ›¿ä»£ Docker Hub å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šè‡ªå»º Docker Registryã€‚ç‹¬è‡ªæ‘¸ç´¢äº†ä¸€é˜µå­åï¼Œä»¥ä¸‹æ˜¯è‡ªå·±çš„ä¸€ç‚¹å®è·µï¼š&lt;/p&gt;

&lt;h2 id=&quot;å®‰è£…ç¯å¢ƒ&quot;&gt;å®‰è£…ç¯å¢ƒ&lt;/h2&gt;

&lt;p&gt;docker-engine ä½¿ç”¨äº†æœ€æ–°çš„ 1.11.2 ç‰ˆæœ¬ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[root@crh211 ~]# docker version
Client:
 Version:      1.11.2
 API version:  1.23
 Go version:   go1.5.4
 Git commit:   b9f10c9
 Built:        Wed Jun  1 21:23:11 2016
 OS/Arch:      linux/amd64

Server:
 Version:      1.11.2
 API version:  1.23
 Go version:   go1.5.4
 Git commit:   b9f10c9
 Built:        Wed Jun  1 21:23:11 2016
 OS/Arch:      linux/amd64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ“ä½œç³»ç»Ÿé‡‡ç”¨ CentOS 7, å†…æ ¸ &lt;code class=&quot;highlighter-rouge&quot;&gt;3.10.0-229.el7.x86_64&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;docker-registry&quot;&gt;Docker Registry&lt;/h2&gt;

&lt;p&gt;ä¸€å¼€å§‹ç…§ç€ &lt;a href=&quot;https://yeasy.gitbooks.io/docker_practice/content/repository/local_repo.html&quot;&gt;è¿™é‡Œ&lt;/a&gt; çš„æ•™ç¨‹å®‰è£…äº†ä¸€ä¸‹ï¼Œå‘ç°åœ¨ push é•œè±¡æ—¶ï¼Œä¼šæŠ¥é”™ã€‚åº”è¯¥æ˜¯è·Ÿ &lt;code class=&quot;highlighter-rouge&quot;&gt;https&lt;/code&gt; ç›¸å…³çš„é—®é¢˜ï¼ŒæŸ¥é˜…äº†ä¸€ä¸‹ &lt;a href=&quot;https://docs.docker.com/registry/insecure/&quot;&gt;å®˜æ–¹èµ„æ–™&lt;/a&gt;ï¼Œä¾ç…§æç¤ºæƒ³ç»™ docker å¯åŠ¨å¢åŠ å‚æ•°ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DOCKER_OPTS=&quot;--insecure-registry myregistrydomain.com:5000&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½†é‡å¯ docker åå¥½åƒæ²¡ååº”ï¼Œè¯•äº†å¥½å¤šç§ç±»ä¼¼çš„æ–¹æ¡ˆéƒ½ä¸è¡Œã€‚çœ‹æ¥è¦æ¢ç§æ€è·¯ã€‚ä¸€è·¯æ‰¾ä¸‹å»æ‰¾åˆ°äº† Docker Registry 2.0ï¼ŒæŠ›å¼ƒäº†ä»¥ä¸Š insecure çš„è¿è¡Œæ–¹å¼ï¼Œé‡‡ç”¨äº†è‡ªå»ºè¯ä¹¦çš„è®¤è¯æ–¹å¼ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç”Ÿæˆè¯ä¹¦&quot;&gt;ç”Ÿæˆè¯ä¹¦&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mkdir -p certs &amp;amp;&amp;amp; openssl req \
  -newkey rsa:4096 -nodes -sha256 -keyout certs/domain.key \
  -x509 -days 365 -out certs/domain.crt

Country Name (2 letter code) [AU]:CN
State or Province Name (full name) [Some-State]:Zhengjiang
Locality Name (eg, city) []:Hangzhou
Organization Name (eg, company) [Internet Widgits Pty Ltd]:Cairenhui
Organizational Unit Name (eg, section) []:FE
Common Name (e.g. server FQDN or YOUR name) []:192.168.1.211:5000
Email Address []:wuwj@cairenhui.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ¥ä¸‹æ¥å°†åˆšç”Ÿæˆçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;certs/domain.crt&lt;/code&gt; å¤åˆ¶åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/docker/certs.d/192.168.1.211:5000/ca.crt&lt;/code&gt;ï¼Œå¹¶&lt;strong&gt;é‡å¯ docker&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®‰è£…-docker-registry-20&quot;&gt;å®‰è£… Docker Registry 2.0&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run -d -p 5000:5000 --restart=always --name registry \
  -v /root/certs:/certs \
  -v /opt/data:/var/lib/registry \
  -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/domain.crt \
  -e REGISTRY_HTTP_TLS_KEY=/certs/domain.key \
  registry:2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;é—®é¢˜&quot;&gt;é—®é¢˜&lt;/h2&gt;

&lt;p&gt;å®‰è£…å®Œååœ¨ push é•œè±¡æ—¶è¿˜æ˜¯é‡åˆ°äº†ä¸€ç‚¹å°é—®é¢˜ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;x509: cannot validate certificate for 192.168.1.211 because it doesn't contain any IP SANs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;è§£å†³åŠæ³•&quot;&gt;è§£å†³åŠæ³•ï¼š&lt;/h3&gt;

&lt;p&gt;ä¿®æ”¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/pki/tls/openssl.cnf&lt;/code&gt; é…ç½®ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­æ‰¾åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;[ v3_ca ]&lt;/code&gt;ï¼Œåœ¨å®ƒä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[ v3_ca ]
# Extensions for a typical CA
subjectAltName = IP:192.168.1.211
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å†æ¬¡é‡å¯ dockerï¼Œé—®é¢˜è§£å†³ã€‚&lt;/p&gt;

&lt;p&gt;è‡³æ­¤ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;docker registry&lt;/code&gt; ç§æœ‰ä»“åº“å®‰è£…æˆåŠŸã€‚æ¥ä¸‹æ¥å¯ä»¥éšæ—¶ç™»å½•å…¬å¸çš„ VPN å» pull é•œè±¡äº†ã€‚&lt;/p&gt;</content><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><category term="docker" /><category term="centos" /><summary type="html">æˆ‘ä»¬çŸ¥é“ï¼Œæ‰§è¡Œ docker pull æŸé•œè±¡ï¼Œé»˜è®¤éƒ½æ˜¯ä» Docker Hub çš„å…¬å…±ä»“åº“å»è·å–çš„ã€‚è¿™æœ‰ç‚¹åƒå…¨çƒæœ€å¤§çš„ä»£ç æ‰˜ç®¡å•†ï¼šGithubã€‚ä½†å¯¹äºå…¬å¸ä¼ä¸šè€Œè¨€ï¼ŒMaybe æ›´åŠ éœ€è¦æ˜¯çš„è‡ªå»ºçš„ä»“åº“æœåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨è‡ªå»ºçš„ Gitlab ä»£æ›¿ Githubã€‚é‚£æœ‰ä»€ä¹ˆå¯ä»¥æ›¿ä»£ Docker Hub å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šè‡ªå»º Docker Registryã€‚ç‹¬è‡ªæ‘¸ç´¢äº†ä¸€é˜µå­åï¼Œä»¥ä¸‹æ˜¯è‡ªå·±çš„ä¸€ç‚¹å®è·µï¼š</summary></entry><entry><title type="html">ç”¨ TypeScript å†™ä¸€ä¸ªè´ªé£Ÿè›‡å°æ¸¸æˆ</title><link href="https://roshanca.com/2015/write-a-simple-snake-game-with-typescript/" rel="alternate" type="text/html" title="ç”¨ TypeScript å†™ä¸€ä¸ªè´ªé£Ÿè›‡å°æ¸¸æˆ" /><published>2015-09-03T00:00:00+00:00</published><updated>2015-09-03T00:00:00+00:00</updated><id>https://roshanca.com/2015/write-a-simple-snake-game-with-typescript</id><content type="html" xml:base="https://roshanca.com/2015/write-a-simple-snake-game-with-typescript/">&lt;h2 id=&quot;typescript--vs-code&quot;&gt;TypeScript &amp;amp; VS code&lt;/h2&gt;

&lt;p&gt;å·²ç»å¿˜äº†æ˜¯å¦‚ä½•ç¼˜ç»“ &lt;a href=&quot;http://www.typescriptlang.org/&quot;&gt;TypeScript&lt;/a&gt; çš„äº†ï¼Œåº”è¯¥æ˜¯å¶ç„¶ä½¿ç”¨è¿‡ &lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;Visual Studio Code&lt;/a&gt; è¿™æ¬¾ä¼˜ç§€çš„ IDE æ‰è®¤è¯† TS çš„å§ã€‚ç›®å‰è¿˜æ˜¯ Preview ç‰ˆæœ¬çš„ VS codeï¼Œé›†ä¼—å¤šä¼˜ç§€å“è¶Šçš„åŠŸèƒ½ç‰¹æ€§ï¼Œå·²ç»æ·±æ·±åœ°å¾æœäº†æˆ‘ï¼Œåœ¨å®ƒèº«ä¸Šçœ‹ä¸åˆ°ä¸€ç‚¹ä»¥å¾€å¯¹å¾®è½¯çš„é‚£ç§ç¹å†—æ™¦æ¶©è´¨æ„Ÿï¼Œå–è€Œä»£ä¹‹çš„æ˜¯è½»çµä¼˜ç¾ä¸”åŠŸèƒ½ä¸Šä¸ä¹å…ˆè¿›ä¹‹å¤„ã€‚æœ‰å…³ VS code è¿™æ˜¯åè¯ï¼Œä¸‹é¢å…ˆè¯´è¯´ TypeScriptã€‚&lt;/p&gt;

&lt;h2 id=&quot;typescript--coffeescript&quot;&gt;TypeScript &amp;amp; CoffeeScript&lt;/h2&gt;

&lt;p&gt;æåˆ°å®ƒå¾ˆå¤šäººä¼šæ‹¿ &lt;a href=&quot;http://coffeescript.org/&quot;&gt;CoffeeScript&lt;/a&gt; ä¸ä¹‹æ¯”å¯¹ï¼Œæˆ‘ä½œä¸ºä¸¤è€…éƒ½ä½¿ç”¨è¿‡çš„è¿‡æ¥äººï¼Œç®€å•ä»‹ç»ä¸‹ä¸¤è€…çš„å¼‚åŒï¼š&lt;/p&gt;

&lt;p&gt;åœ¨æˆ‘çœ‹æ¥ç›¸åŒç‚¹åªæœ‰ä¸€ç‚¹ï¼šéƒ½æ˜¯ JavaScript Compiler çš„å®šä½ï¼Œæœ‰ç‚¹ç±»ä¼¼äº Sass, Less ä¹‹äº CSSã€‚&lt;/p&gt;

&lt;p&gt;ä¸åŒç‚¹å¾ˆå¤šï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œè¿™ä½¿å¾—å®ƒèƒ½å¤Ÿä¸æ™®é€šçš„ JavaScript æ··ç”¨ï¼Œè€Œ CoffeeScript ä½¿ç”¨è‡ªå·±çš„é‚£ä¸€å¥—ç±» Ruby çš„è¯­æ³•ä½¿å¾—è¿™æ˜¯ä¸å¯èƒ½æ»´;&lt;/li&gt;
  &lt;li&gt;TypeScript ç©çš„æ¦‚å¿µæ¯”è¾ƒå¤šï¼Œæ¯”å¦‚ Module, Interface ç­‰ï¼Œè€Œ CoffeeScript è‡ªå·±å®ç°çš„è¯­æ³•ç³–åˆ™æ¯”è¾ƒå¤šï¼›&lt;/li&gt;
  &lt;li&gt;TypeScript å·²ç»å¼€å§‹æ”¯æŒ ES6ï¼ŒCoffeeScript ä¼šä¸ä¼šæ”¯æŒå’Œä»€ä¹ˆæ—¶å€™æ”¯æŒï¼Œè¿˜éƒ½æ˜¯æœªçŸ¥æ•°ï¼›&lt;/li&gt;
  &lt;li&gt;æœ€å¤§çš„ä¸€ç‚¹ä¸åŒï¼šTypeScript åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å¯å¯¹ç±»å‹è¿›è¡Œæ£€æŸ¥ï¼Œå°† JavaScript è¿™ä¸ªçµæ´»çš„åŠ¨æ€å‹è¯­è¨€å˜æˆäº†&lt;strong&gt;é™æ€ç±»å‹&lt;/strong&gt;çš„è¯­è¨€ã€‚ç®—æ˜¯æœ‰åˆ©æœ‰å¼Šå§ï¼šå¥½å¤„æ˜¯ç›¸å½“äºå°†éƒ¨åˆ†çš„â€œæµ‹è¯•â€å·¥ä½œæå‰äº†ï¼Œé—®é¢˜çš„å®šä½ä¹Ÿæ›´åŠ ç²¾å‡†ï¼›åå¤„æ˜¯ä¸§å¤±äº†ä¸€ç‚¹çµæ´»æ€§ä¸å¢åŠ äº†ä¸€äº›ä»£ç é‡ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;typescript--go&quot;&gt;TypeScript &amp;amp; Go&lt;/h2&gt;

&lt;p&gt;ä¸ç®¡æ€æ ·ï¼Œæˆ‘å¯¹ TypeScript åˆè¯†å°±æœ‰å¥½æ„Ÿã€‚è¿™ç§å¥½æ„Ÿæºè‡ªä¹‹å‰çœ‹åˆ°è¿‡çš„å…³äº Go è¯­è¨€çš„ä»‹ç»ç³»åˆ—ï¼š&lt;a href=&quot;https://github.com/astaxie/build-web-application-with-golang&quot;&gt;build web application with golang&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è™½ç„¶æˆ‘ä¸æ˜¯åç«¯å·¥ç¨‹å¸ˆï¼Œä½†å†²ç€å®ƒä¼˜é›…çš„è¯­æ³•ï¼Œæˆ‘åœ¨å½“ä¸‹æ˜¯å¾ˆæœ‰å†²åŠ¨æ¥å­¦ä¹  Go çš„ã€‚&lt;/p&gt;

&lt;p&gt;TypeScript åœ¨æŸäº›æ–¹é¢ä¸ Go å¾ˆåƒï¼Œæ˜¯æˆ‘å–œæ¬¢çš„éƒ¨åˆ†ï¼ˆä¹Ÿè®¸æ˜¯æˆ‘æ¥è§¦çš„é™æ€å‹è¯­è¨€å®åœ¨å¤ªå°‘ï¼‰ã€‚æ¯”å¦‚å®šä¹‰ä¸€ä¸ªå–ä¸¤æ•°è¾ƒå¤§å€¼çš„å‡½æ•°ï¼š&lt;/p&gt;

&lt;p&gt;Go:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;TypeScript:&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;b&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Go çš„è‡ªå®šä¹‰ç±»å‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Human&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;age&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;phone&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;person&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Human&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;TypeScript çš„ Type Interfaceï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kr&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Human&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;phone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;person&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Human&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä¸Šã€‚æˆ‘è®¤ä¸ºé™æ€ç±»å‹çš„å¥½å¤„ï¼Œä¸æ­¢åœ¨äºå®ƒåœ¨ç¼–è¯‘æ—¶æå‰æ‰¾å‡ºé”™è¯¯ï¼Œè¿˜åœ¨äºå®ƒå¯ä»¥åœ¨ä½ ç¨‹åºè®¾è®¡åˆæœŸï¼Œå¸®åŠ©ä½ å»ç†æ¸…æ€è·¯ã€‚&lt;/p&gt;

&lt;h2 id=&quot;è´ªé£Ÿè›‡&quot;&gt;è´ªé£Ÿè›‡&lt;/h2&gt;

&lt;p&gt;ä¸‹é¢è¿›å…¥æ­£é¢˜ï¼Œçœ‹çœ‹å¦‚ä½•ç”¨ TypeScript å®ç°ä¸€ä¸ªç®€å•çš„è´ªé£Ÿè›‡å°æ¸¸æˆã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://i93.photobucket.com/albums/l57/ShakeSpace/Blog/snake-game_zps4k2h7dhw.png&quot; alt=&quot;Snake Game&quot; /&gt;&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹æ„æˆè¿™ä¸ªæ¸¸æˆçš„è¦ç´ ï¼Œä¸»è¦ç”±è¿™ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;åœ°æ¿: Floor&lt;/li&gt;
  &lt;li&gt;è›‡: Snake&lt;/li&gt;
  &lt;li&gt;é£Ÿç‰©: Food&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œå®ƒä»¬çš„ç»„æˆå•ä½ï¼Œå…¶å®æ˜¯ä¸€æ ·ï¼Œéƒ½æ˜¯ç”±å•ä¸ªâ€œå—â€ç»„æˆçš„ï¼šFloor æ˜¯ç”±çºµæ¨ªä¸¤ä¸ªç»´åº¦çš„å—ç»„æˆï¼ŒSnake æ˜¯ç”±ä¸€åˆ—å—ç»„æˆï¼Œè€Œ Food æ˜¯å•ä¸ªå—ã€‚å—æ˜¯è¿™ä¸ªæ¸¸æˆä¸–ç•Œæ„å»ºçš„åŸºæœ¬å•ä½ï¼Œæˆ‘ä»¬æ”¹å¦‚ä½•æ¥å®ç°è¿™ä¸ªå—å‘¢ï¼Ÿè¿™è‡³å…³é‡è¦ã€‚&lt;/p&gt;

&lt;p&gt;ç®€å•æ¥åˆ†æä¸‹ï¼Œä»å›¾ä¸­å¯çœ‹å‡ºï¼Œå—æœ‰ä¸‰ç§é¢œè‰²ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Floor: ç™½è‰²&lt;/li&gt;
  &lt;li&gt;Snake: é»‘è‰²&lt;/li&gt;
  &lt;li&gt;Food: çº¢è‰²&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å¯ä»¥å¯¹å…¨ä½“çš„å—è¿›è¡Œä¸‰ç§åˆ†ç±»ï¼Œæ¯ç±»æœ‰ç›¸åº”çš„æ ·å¼ï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;SPACE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;space&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;BODY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;FOOD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;.space&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;white&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.body&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;black&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.food&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦è®©å—åŠ¨èµ·æ¥ï¼Œä½¿è›‡ç§»åŠ¨ï¼Œè¿˜è¦è®°å½•å—çš„ä½ç½®ä¿¡æ¯ï¼Œå³ä¸ºæ¨ªå‘å’Œçºµå‘ä¸Šçš„ unique åæ ‡ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åï¼Œè¦ç”¨ JS æ“ä½œçš„ä»‹è´¨ï¼Œæ— éæ˜¯æ‰¿è½½ç€è¿™äº›â€œå—æ•°æ®â€çš„ DOMï¼Œå—è‡ªèº«çš„é¢œè‰²çš„å˜åŒ–ï¼Œéœ€è¦é€šè¿‡æ”¹å˜å…¶å¯¹åº”çš„ DOM å…ƒç´ çš„æ ·å¼æ¥å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·æˆ‘ä»¬å…¶å®å¯¹å—å®ç°å·²ç»æœ‰äº†åŸºæœ¬çš„æƒ³æ³•ï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kr&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Pos&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;HTMLElement&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œç”±äºå—åæ ‡æˆ‘ä»¬åé¢ç”¨çš„å¾ˆå¤šï¼Œæ‰€ä»¥å°±å®šä¹‰äº†ä¸€ä¸ª Pos ç±»å‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kr&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Pos&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½ ä¼šå‘ç°ï¼Œåœ¨ TypeScript çš„ä¸–ç•Œä¸­ï¼Œåˆ›å»ºä¸€ä¸ªç±»å‹æ˜¯å¤šä¹ˆåœ°éšå¿ƒæ‰€æ¬²å’Œä¸è´¹åŠ›æ°”ã€‚&lt;/p&gt;

&lt;p&gt;å¥½äº†ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†æ„å»ºä¸–ç•Œçš„åŸºæœ¬ç²’å­äº†ï¼Œå¯ä»¥å¼€å§‹åˆ›å»º Floor å’Œ Snake äº†ï¼ˆå…ˆä¸ç®¡ Foodï¼Œè¿˜æ²¡åˆ°è¿™ä¸€æ­¥ï¼‰ã€‚åˆ›å»ºå®Œåï¼Œå†è®© Snake èƒ½å¤Ÿâ€œåŠ¨èµ·æ¥â€ï¼Œå¹¶ä¸”é€šè¿‡é”®ç›˜çš„â€œä¸Šâ€ã€â€œä¸‹â€ã€â€œå·¦â€ã€â€œå³â€é”®å¯æ§åˆ¶å…¶æ–¹å‘ï¼Œå°±ç®—å®Œæˆå¤§åŠäº†ã€‚&lt;/p&gt;

&lt;p&gt;åˆ›å»º Floor ç±»ï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Floor&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;HTMLTableElement&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;HTMLElement&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// æä¾›ç»™ Snake ä½¿ç”¨çš„ block é›†åˆ&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;col&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;col&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nx&quot;&gt;initialize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;HTMLTableRowElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertRow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;HTMLTableCellElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertCell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;td&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;className&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SPACE&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;td&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SPACE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åˆ›å»º Snake ç±»ï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Snake&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;initLength&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;speed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;initLength&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;initLength&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;speed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;speed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nx&quot;&gt;born&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;initLength&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// floor æ˜¯ Floor çš„ä¸€ä¸ªå®ä¾‹&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;BODY&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;className&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ç€è‰²&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¥½äº†ï¼Œnew ä¸€ä¸ª Snake è¯•ä¸€ä¸‹ï¼Œæ˜¯å¦æœ‰ä¸€åªâ€œä¸‰èŠ‚è›‡â€å·²èµ«ç„¶å°å…¥çœ¼å¸˜ã€‚&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;snake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;born&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åŠ ä¸Šä¸€ä¸ª move æ–¹æ³•è®©å®ƒåŠ¨èµ·æ¥ï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Snake&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sbling&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// è·å– head å³ä¾§çš„ block&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// body move&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;BODY&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// clear original tail&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;tail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SPACE&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;tail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;className&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// change color of blocks&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;className&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nx&quot;&gt;sbling&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä¸Šå‡ å¥ä»£ç®€å•ç å®Œæˆåï¼Œåªè¦åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;born&lt;/code&gt; æ–¹æ³•ä¸­åŠ å®šè®¡æ—¶ä»»åŠ¡ï¼Œå°±å¯ä»¥ä½¿æˆ‘ä»¬çš„å°è›‡å‘å³è·‘èµ·æ¥äº†ï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;born&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// keep moving&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;speed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ¥ä¸‹æ¥åŠ ä¸Šé”®ç›˜æ§åˆ¶äº‹ä»¶ä¹‹å‰ï¼Œè¦å…ˆå¯¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;sbling&lt;/code&gt; æ–¹æ³•è¿›è¡Œæ”¹é€ ï¼Œå› ä¸ºç§»åŠ¨è¿‡ç¨‹ä¸­çš„ä¸‹ä¸€ä¸ªå— &lt;code class=&quot;highlighter-rouge&quot;&gt;next: Block&lt;/code&gt;ï¼Œè¦æ ¹æ®å…¶ç§»åŠ¨æ–¹å‘æ¥è·å¾—äº†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;down&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Snake&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;offsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;right&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;offsets&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;

    &lt;span class=&quot;nx&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sbling&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nx&quot;&gt;sbling&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;offsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;offsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ­£å¼åŠ ä¸Šé”®ç›˜äº‹ä»¶ï¼Œé½æ´»äº†ï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;born&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keyHandler&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;KeyboardEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;keyCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;which&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;charCode&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;KeyCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;left&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;KeyCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;down&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;up&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;KeyCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;right&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;KeyCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;down&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;down&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;keydown&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keyHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸‹ä½ å¯ä»¥æ“çºµè¿™æ¡ä¸‰èŠ‚è›‡æ»¡åœ°è·‘äº†ï¼Œæœ‰ç‚¹æ„æ€ã€‚ç¼ºç‚¹æ„æ€çš„æ˜¯ï¼šä¸€æ²¡é£Ÿç‰©äºŒåˆ°å¤„ç¢°å£æ­»ä¸äº†ã€‚åˆ«æ€¥ï¼Œé¦–å…ˆè§£å†³é£Ÿç‰©æ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;genFood&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// åœ¨åœ°æ¿å†…çš„éšæœºä½ç½®&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;na&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
            &lt;span class=&quot;na&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// æ ¹æ®ä½ç½®è·å–é£Ÿç‰© block&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

        &lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;FOOD&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;className&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç”Ÿæˆé£Ÿç‰©åœ¨è›‡ä¸€å‡ºç”Ÿå°±æ‰§è¡Œä¸€æ¬¡ï¼Œéšåï¼Œåœ¨è›‡ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œæ¯åƒåˆ°ä¸€æ¬¡é£Ÿç‰©ï¼Œå°±é‡æ–°å†ç”Ÿæˆä¸€æ¬¡é£Ÿç‰©ï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Snake&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;born&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// generate food&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;genFood&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// keep moving&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;speed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nx&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;FOOD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// body move&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nx&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;genFood&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¥½ï¼Œæœ€åæˆ‘ä»¬è®©è¿™æ¡é•¿ç”Ÿä¸æ­»çš„ç¥è›‡è½å…¥ç”Ÿæ­»è½®å›çš„å‡¡ç•Œã€‚ä»”ç»†æ€è€ƒä¸‹ï¼Œå®ƒçš„æ­»å› æœ‰ä¸¤ç§ï¼šä¸€ã€ç¢°å£ï¼ˆä¸‹ä¸€ä¸ªå—ä¸å­˜åœ¨ï¼‰ï¼›äºŒã€åƒåˆ°è‡ªå·±çš„èº«ä½“ï¼ˆè´ªé£Ÿè€Œäº¡ï¼‰ï¼Œé‚£ä»£ç å®ç°çš„æ–¹å¼å°±å¾ˆç®€å•å’¯ï¼š&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bodies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sbling&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;BODY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;die&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;FOOD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è‡³æ­¤ï¼Œç®€å•çš„è´ªé£Ÿè›‡å°æ¸¸æˆå°±åŸºæœ¬å®Œæˆäº†ã€‚å½“ç„¶ï¼Œåç»­è¿˜éœ€è¦è®¸å¤šä¼˜åŒ–ï¼šæ¯”å¦‚ç”Ÿæˆçš„é£Ÿç‰©å—åˆšå¥½æ˜¯è›‡çš„èº«ä½“æ€ä¹ˆåŠï¼Ÿæ¯”å¦‚åœ¨è›‡çš„ä¸€æ¬¡ move ä¸­é¢‘ç¹å¤šæ¬¡è§¦å‘é”®ç›˜äº‹ä»¶ï¼Œdirection åˆ°åº•å–å“ªä¸€æ¬¡ï¼Ÿåœ¨è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ç›´æ¥çœ‹&lt;a href=&quot;https://github.com/roshanca/snake-game&quot;&gt;é¡¹ç›®æºç &lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;æœ€åæä¸€ä¸‹ï¼Œä¸ºäº†ä½¿é€»è¾‘æ›´åŠ æ¸…æ™°ä»¥åŠæ—¥åæ–¹ä¾¿æ‰©å±•ç»´æŠ¤ï¼Œæˆ‘åˆæŠ½ç¦»äº†ä¸€ä¸ª Model ç±»ï¼Œä¸“é—¨ç”¨æ¥åš Floor å’Œ Snake çš„çº½å¸¦ï¼Œä¸“é—¨è´Ÿè´£æ“ä½œç®¡ç† block é›†åˆã€‚å› ä¸ºç”¨ TypeScript æ¥å®šåˆ¶å®ç°æ¨¡å—å®åœ¨æ˜¯å¤ªæ–¹ä¾¿äº†ï¼Œæä¾›äº†ä¼—å¤šæ–¹æ³•è¿˜æœ‰ç»§æ‰¿ (extends) å’Œå®ç° (implements) ç­‰æ¦‚å¿µï¼Œæ„Ÿè§‰å°±åƒæ‘†åœ¨ä½ çš„é¢å‰ä¸€å¤§å †å„å¼å„æ ·çš„å·¥å…·ï¼Œéƒ½ä¸çŸ¥é“è¯¥æŒ‘ä¸€æŠŠé”¤å­æˆ–æ˜¯ä¸€åªé•Šå­ã€‚&lt;/p&gt;

&lt;p&gt;ç…§è¿™ä¹ˆè¯´ï¼Œç”¨ TypeScript å†™ä¸€äº›å°è§„æ¨¡çš„é¡¹ç›®ç¡®å®æœ‰ä¸€ç§æ‰“èšŠå­ç”¨å¤§ç‚®çš„èµ¶è„šï¼Œè€Œä¸”ï¼Œæœ‰æ—¶å€™çµæ´»åº¦ä¹Ÿä¼šä¸‹é™ï¼šæ¯”å¦‚è´ªé£Ÿè›‡ä¸­å¯¹ block é›†åˆå…³ç³»ç®¡ç†ï¼Œç”±ä¸€ä¸ª block å»è·å–åˆ°å®ƒç›¸é‚»ä½ç½®çš„ blockï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šè¦æ˜¯ç”¨ä¸Šä¸€ç‚¹ç‚¹ JavaScript åŠ¨æ€è¯­è¨€çš„é»‘é­”æ³•çš„è¯å®ç°èµ·æ¥ä¼šç®€å•çš„å¤šï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;td&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SPACE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·ä½ ä¼šå‘ç° &lt;code class=&quot;highlighter-rouge&quot;&gt;this.blocks&lt;/code&gt; å¯é€šè¿‡ä¸¤ä¸ªç»´åº¦æ¥è·å–åˆ°ç›¸åº”çš„ blockï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¹Ÿåªæœ‰åœ¨åŠ¨æ€çš„å¼±è¯­è¨€é‡Œèƒ½åšåˆ°è¿™ä¸€ç‚¹ã€‚ä½†ç®€å•æ–¹ä¾¿ä¹‹ä½™å¸¦æ¥çš„å‰¯ä½œç”¨æ˜¯ä¸å¤ªå¥½ç†è§£ï¼Œæ‰€ä»¥å¦‚æœæ˜¯ä¸€äº›å›¢é˜Ÿåä½œçš„é¡¹ç›®ï¼Œæˆ‘ä¸ªäººçš„å»ºè®®æ˜¯å®å¯æ”¾å¼ƒæ‰ä¸€äº›å®ç°æ•ˆç‡ï¼Œä¸ºäº†ä»Šåçš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ï¼Œå°½é‡å†™çš„æ¸…æ™°ä¸€äº›ï¼Œä¸è¦çˆ½äº†è‡ªå·±å´å‘äº†é˜Ÿå‹ã€‚TypeScript åœ¨è¿™ä¸€ç‚¹ä¸Šæ˜¯ç¬¦åˆæˆ‘çš„ç†å¿µçš„ï¼Œæ­¤å¤„å¦‚æœçœŸçš„ä½¿ç”¨äº†è¿™é¡¹é»‘é­”æ³•å®ƒä¼šæŠ¥é”™ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;An index expression argument must be of type â€˜stringâ€™, â€˜numberâ€™, â€˜symbolâ€™, or â€˜anyâ€™&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸ä¼šè®©ä½ èµ°æ·å¾„èƒ¡æ¥äº†ã€‚&lt;/p&gt;

&lt;p&gt;éšç€é¡¹ç›®çš„å¤æ‚ç¨‹åº¦é€’å¢ï¼Œå…¶ä¼˜åŠ¿ä¹Ÿæ„ˆå‘æ˜æ˜¾ã€‚å•å•æ˜¯é™æ€ç±»å‹æ£€æµ‹å°±å¯ä»¥å°†å¤šå°‘æ½œåœ¨é—®é¢˜æ‰¼æ€åœ¨ç¼–è¯‘é˜¶æ®µäº†ã€‚&lt;/p&gt;

&lt;p&gt;è€Œå›å¤´çœ‹æˆ‘ä»¬çš„äº’è”ç½‘ä¸–ç•Œï¼Œæ°å·§ç¢°ä¸Šå¯Œåº”ç”¨çš„æ—¶ä»£ï¼Œè€Œä¸”éšç€è¿™å‡ å¹´è®¡ç®—æœºç¡¬ä»¶æ€§èƒ½æå‡ï¼ŒåŠ ä¸Š JavaScript è‡ªèº«çš„ä¸æ–­ä¼˜åŒ–ï¼Œæˆ‘ç›¸ä¿¡æˆ‘ä»¬çš„åº”ç”¨è¿˜ä¼šå¯¹äº¤äº’çš„è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œå¯¹ä»£ç çš„å¤æ‚ç¨‹åº¦ä¹Ÿä¼šè¶Šæ¥è¶Šé«˜ã€‚åº”ç”¨è‡ªèº«çš„è§„æ¨¡ä¹Ÿè¶Šæ¥è¶Šå¤§ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›è·¨å¹³å°çš„åº”ç”¨ã€‚è¿™äº›éƒ½è®© TypeScript çš„ä¼˜åŠ¿æ„ˆåŠ æ˜æ˜¾ã€‚&lt;/p&gt;</content><author><name>{&quot;twitter&quot;=&gt;&quot;roshan_wu&quot;}</name></author><category term="javascript" /><category term="typescript" /><category term="game" /><summary type="html">TypeScript &amp;amp; VS code</summary></entry></feed>